---
title: Распределенная трассировка — .NET
description: Общие сведения о распределенной трассировке .NET.
ms.date: 03/15/2021
ms.openlocfilehash: 274a058bf9daf096958813575901e83a3976a3a4
ms.sourcegitcommit: e16315d9f1ff355f55ff8ab84a28915be0a8e42b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/25/2021
ms.locfileid: "105111118"
---
# <a name="net-distributed-tracing"></a><span data-ttu-id="7638c-103">Распределенная трассировка .NET</span><span class="sxs-lookup"><span data-stu-id="7638c-103">.NET Distributed Tracing</span></span>

<span data-ttu-id="7638c-104">Распределенная трассировка — это диагностическая методика, помогающая инженерам локализовать сбои и проблемы с производительностью в приложениях, особенно те, которые могут охватывать несколько компьютеров или процессов.</span><span class="sxs-lookup"><span data-stu-id="7638c-104">Distributed tracing is a diagnostic technique that helps engineers localize failures and performance issues within applications, especially those that may be distributed across multiple machines or processes.</span></span> <span data-ttu-id="7638c-105">Эта методика отслеживает запросы через приложение, сопоставляя работу различных компонентов приложения и отделяя ее от другой работы, которую приложение может выполнять для параллельных запросов.</span><span class="sxs-lookup"><span data-stu-id="7638c-105">This technique tracks requests through an application correlating together work done by different application components and separating it from other work the application may be doing for concurrent requests.</span></span> <span data-ttu-id="7638c-106">Например, запрос к обычной веб-службе может быть сначала получен подсистемой балансировки нагрузки, а затем передан процессу веб-сервера, который затем выполняет несколько запросов к базе данных.</span><span class="sxs-lookup"><span data-stu-id="7638c-106">For example a request to a typical web service might be first received by a load balancer, then forwarded to a web server process, which then makes several queries to a database.</span></span> <span data-ttu-id="7638c-107">Использование распределенной трассировки позволяет инженерам определить, завершились ли какие-либо из этих шагов со сбоем, сколько времени занял каждый шаг, и потенциально регистрировать сообщения, выданные при выполнении каждого шага.</span><span class="sxs-lookup"><span data-stu-id="7638c-107">Using distributed tracing allows engineers to distinguish if any of those steps failed, how long each step took, and potentially logging messages produced by each step as it ran.</span></span>

## <a name="getting-started-for-net-app-developers"></a><span data-ttu-id="7638c-108">Начало работы для разработчиков приложений .NET</span><span class="sxs-lookup"><span data-stu-id="7638c-108">Getting started for .NET app developers</span></span>

<span data-ttu-id="7638c-109">Ключевые библиотеки .NET инструментированы для автоматического создания данных распределенной трассировки, но эти сведения необходимо собрать и сохранить, чтобы позже они были доступными для просмотра.</span><span class="sxs-lookup"><span data-stu-id="7638c-109">Key .NET libraries are instrumented to produce distributed tracing information automatically but this information needs to be collected and stored so that it will be available for review later.</span></span>
<span data-ttu-id="7638c-110">Обычно разработчики приложений выбирают службу телеметрии, где хранятся эти данные трассировки, а затем используют соответствующую библиотеку для передачи данных телеметрии распределенной трассировки в выбранную службу.</span><span class="sxs-lookup"><span data-stu-id="7638c-110">Typically app developers will select a telemetry service that stores this trace information for them and then use a corresponding library to transmit the distributed tracing telemetry to their chosen service.</span></span> <span data-ttu-id="7638c-111">[OpenTelemetry](https://github.com/open-telemetry/opentelemetry-dotnet/blob/main/docs/trace/getting-started/README.md) — это независимая от поставщика библиотека, поддерживающая несколько служб, [Application Insights](https://docs.microsoft.com/azure/azure-monitor/app/distributed-tracing) — это полнофункциональная служба, предоставляемая корпорацией Майкрософт; кроме того, существует множество высококачественных сторонних поставщиков APM, предоставляющих интегрированные решения .NET.</span><span class="sxs-lookup"><span data-stu-id="7638c-111">[OpenTelemetry](https://github.com/open-telemetry/opentelemetry-dotnet/blob/main/docs/trace/getting-started/README.md) is a vendor neutral library that supports several services, [Application Insights](https://docs.microsoft.com/azure/azure-monitor/app/distributed-tracing) is a full featured service provided by Microsoft, and there are many high quality 3rd party APM vendors that offer integrated .NET solutions.</span></span>

- [<span data-ttu-id="7638c-112">Общие сведения о концепциях распределенной трассировки</span><span class="sxs-lookup"><span data-stu-id="7638c-112">Understand distributed tracing concepts</span></span>](distributed-tracing-concepts.md)
- <span data-ttu-id="7638c-113">Руководства</span><span class="sxs-lookup"><span data-stu-id="7638c-113">Guides</span></span>
  - [<span data-ttu-id="7638c-114">Сбор данных распределенных трассировок с помощью Application Insights</span><span class="sxs-lookup"><span data-stu-id="7638c-114">Collect distributed traces with Application Insights</span></span>](distributed-tracing-collection-walkthroughs.md#collect-traces-using-application-insights)
  - [<span data-ttu-id="7638c-115">Сбор данных распределенных трассировок с помощью OpenTelemetry</span><span class="sxs-lookup"><span data-stu-id="7638c-115">Collect distributed traces with OpenTelemetry</span></span>](distributed-tracing-collection-walkthroughs.md#collect-traces-using-opentelemetry)
  - [<span data-ttu-id="7638c-116">Сбор данных распределенных трассировок с помощью пользовательской логики</span><span class="sxs-lookup"><span data-stu-id="7638c-116">Collect distributed traces with custom logic</span></span>](distributed-tracing-collection-walkthroughs.md#collect-traces-using-custom-logic)
  - [<span data-ttu-id="7638c-117">Добавление настраиваемого инструментирования распределенной трассировки</span><span class="sxs-lookup"><span data-stu-id="7638c-117">Adding custom distributed trace instrumentation</span></span>](distributed-tracing-instrumentation-walkthroughs.md)

<span data-ttu-id="7638c-118">Для сторонних служб сбора данных телеметрии следуйте инструкциям по установке, предоставленным поставщиком.</span><span class="sxs-lookup"><span data-stu-id="7638c-118">For 3rd party telemetry collection services follow the setup instructions provided by the vendor.</span></span>

## <a name="getting-started-for-net-library-developers"></a><span data-ttu-id="7638c-119">Начало работы для разработчиков библиотек .NET</span><span class="sxs-lookup"><span data-stu-id="7638c-119">Getting started for .NET library developers</span></span>

<span data-ttu-id="7638c-120">Библиотекам .NET не нужно заботиться о том, как в конечном итоге собираются данные телеметрии, — только об их создании.</span><span class="sxs-lookup"><span data-stu-id="7638c-120">.NET libraries don't need to be concerned with how telemetry is ultimately collected, only with how it is produced.</span></span> <span data-ttu-id="7638c-121">Если вы считаете, что разработчики приложений .NET, использующие вашу библиотеку, захотят просматривать выполняемую ею работу в виде подробных данных в распределенной трассировке, следует добавить инструментирование распределенной трассировки для поддержки этого.</span><span class="sxs-lookup"><span data-stu-id="7638c-121">If you believe .NET app developers that use your library would appreciate seeing the work that it does detailed in a distributed trace then you should add distributed tracing instrumentation to support it.</span></span>

- [<span data-ttu-id="7638c-122">Общие сведения о концепциях распределенной трассировки</span><span class="sxs-lookup"><span data-stu-id="7638c-122">Understand distributed tracing concepts</span></span>](distributed-tracing-concepts.md)
- <span data-ttu-id="7638c-123">Руководства</span><span class="sxs-lookup"><span data-stu-id="7638c-123">Guides</span></span>
  - [<span data-ttu-id="7638c-124">Добавление настраиваемого инструментирования распределенной трассировки</span><span class="sxs-lookup"><span data-stu-id="7638c-124">Adding custom distributed trace instrumentation</span></span>](distributed-tracing-instrumentation-walkthroughs.md)
