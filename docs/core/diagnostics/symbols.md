---
title: Символы в .NET
description: Общие сведения о символах и переносимых файлах PDB в .NET
ms.date: 02/08/2021
ms.openlocfilehash: 8f217bf8b62ff12a6ea1dc6a5b14b34d8037dd2d
ms.sourcegitcommit: 20b4565974d185c7716656a6c63e3cfdbdf4bf41
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2021
ms.locfileid: "104759902"
---
# <a name="symbols"></a>Символы

Символы полезны при отладке и в других диагностических средствах. Файлы символов будут иметь разное содержимое в зависимости от языка, компилятора и платформы. Если рассматривать их на высоком уровне, символы представляют собой сопоставление между исходным кодом и двоичным кодом, который создается компилятором. Эти сопоставления используются такими инструментами, как [Visual Studio](/visualstudio/debugger/what-is-debugging), и [Visual Studio Code](https://code.visualstudio.com/Docs/editor/debugging) для разрешения номеров строк исходного кода или имен локальных переменных.

[Документация по Windows по символам](/windows/win32/dxtecharts/debugging-with-symbols) содержит более подробную информацию о символах для Windows, хотя многие из концепций также применимы и к другим платформам.

## <a name="learn-about-nets-portable-pdb-format"></a>Формат переносимого PDB-файла в .NET

В .NET Core появился новый формат файлов символов (PDB) — переносимый PDB-файл. В отличие от традиционных PDB, которые предназначены только для Windows, переносимые PDB-файлы можно создавать и читать на всех платформах.

### <a name="what-is-a-pdb"></a>Что такое PDB-файл?

PDB-файл — это вспомогательный файл, создаваемый компилятором для предоставления другим средствам, особенно отладчикам, сведений о том, что находится в основном исполняемом файле и как он был создан. Например, отладчик считывает PDB-файл для сопоставления строки 12 в файле foo.cs правильному расположению в исполняемом файле, чтобы можно было установить точку останова. Формат файлов PDB для Windows существует уже давно, и он развился из других собственных форматов символов отладки, которые появились еще раньше. Он появился в виде формата для собственных программ (C/C++). После первого выпуска платформы .NET Framework формат Windows PDB был расширен для поддержки .NET.

## <a name="use-the-correct-pdb-format-for-your-scenario"></a>Использование правильного формата PDB в конкретном сценарии

Ни переносимые PDB-файлы, ни PDB-файлы для Windows не поддерживаются всюду, поэтому необходимо подумать о том, где предполагается использовать и выполнять отладку проекта, чтобы решить, какой формат использовать. Если у вас есть проект, который вы хотите использовать и выполнять его отладку в обоих форматах, можно использовать разные конфигурации сборки и дважды собрать проект для поддержки обоих типов потребителей.

### <a name="support-for-portable-pdbs"></a>Поддержка переносимых PDB-файлов

Переносимые PDB-файлы могут быть прочитаны в любой операционной системе. Этот формат символов является рекомендуемым для управляемого кода, но существует ряд устаревших средств и приложений, которые не поддерживаются.

* Приложения, предназначенные для платформы .NET Framework 4.7.1 или более ранней версии: печать трассировок стека с обратным сопоставлением с номерами строк (например, на странице ошибки ASP.NET). Это не касается имен методов, не поддерживаются только имена исходных файлов и номера строк.

* Использование декомпиляторов .NET, таких как ildasm или .NET reflector и ожидающих отображения сопоставлений строк исходного кода или имен локальных параметров.

* Последние версии [DIA](/visualstudio/debugger/debug-interface-access/debug-interface-access-sdk) и средств, которые используют его для чтения символов, например WinDBG, поддерживают переносимые PDB-файлы, но более старые версии — нет.

* Могут существовать более старые версии профилировщиков, которые не поддерживают переносимые PDB-файлы.

Для использования переносимых PDB-файлов в тех средствах, которые не поддерживают их, можно попробовать использовать средство [Pdb2Pdb](https://github.com/dotnet/symreader-converter#pdb2pdb), которое преобразует файлы между форматами "переносимый PDB" и "PDB Windows".

### <a name="support-for-windows-pdbs"></a>Поддержка файлов PDB Windows

Файлы PDB Windows можно записывать и читать только в Windows. Использование PDB-файлов Windows для управляемого кода является устаревшим и используется только для устаревших средств. Рекомендуется использовать переносимые PDB вместо PDB-файлов Windows, так как некоторые новые функции компилятора реализованы только для переносимых PDB-файлов.

## <a name="see-also"></a>См. также раздел

* Для скачивания файлов символов для двоичных модулей платформы можно использовать средство [dotnet-symbol](./dotnet-symbol.md)

* [Документация Windows по символам](/windows/win32/dxtecharts/debugging-with-symbols)
