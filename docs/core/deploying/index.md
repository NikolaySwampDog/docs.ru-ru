---
title: Публикация приложений
description: Узнайте способы публикации приложений .NET. .NET позволяет публиковать приложения для конкретной платформы и кроссплатформенные приложения. Приложение можно опубликовать как автономное или как зависимое от среды. Каждый режим влияет на то, как пользователь запускает приложение.
ms.date: 02/05/2021
ms.openlocfilehash: ca0fa4ff5e17a3fa4c636604ae81b63ffbbc99f6
ms.sourcegitcommit: c7f0beaa2bd66ebca86362ca17d673f7e8256ca6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/23/2021
ms.locfileid: "104874294"
---
# <a name="net-application-publishing-overview"></a><span data-ttu-id="15d93-106">Общие сведения о публикации приложений .NET</span><span class="sxs-lookup"><span data-stu-id="15d93-106">.NET application publishing overview</span></span>

<span data-ttu-id="15d93-107">Приложения .NET можно публиковать в двух разных режимах. Режим влияет на то, как пользователь запускает приложение.</span><span class="sxs-lookup"><span data-stu-id="15d93-107">Applications you create with .NET can be published in two different modes, and the mode affects how a user runs your app.</span></span>

<span data-ttu-id="15d93-108">При публикации *автономного* приложения в состав включается среда выполнения и библиотеки .NET, а также приложение и его зависимости.</span><span class="sxs-lookup"><span data-stu-id="15d93-108">Publishing your app as *self-contained* produces an application that includes the .NET runtime and libraries, and your application and its dependencies.</span></span> <span data-ttu-id="15d93-109">Пользователи приложения могут запустить его на компьютере, на котором не установлена среда выполнения .NET.</span><span class="sxs-lookup"><span data-stu-id="15d93-109">Users of the application can run it on a machine that doesn't have the .NET runtime installed.</span></span>

<span data-ttu-id="15d93-110">При публикации приложения в качестве *зависимого от среды* создается приложение, которое включает только само приложение и его зависимости.</span><span class="sxs-lookup"><span data-stu-id="15d93-110">Publishing your app as *framework-dependent* produces an application that includes only your application itself and its dependencies.</span></span> <span data-ttu-id="15d93-111">Пользователям приложения необходимо отдельно установить среду выполнения .NET.</span><span class="sxs-lookup"><span data-stu-id="15d93-111">Users of the application have to separately install the .NET runtime.</span></span>

<span data-ttu-id="15d93-112">Оба режима публикации по умолчанию создают исполняемый файл, зависящий от платформы.</span><span class="sxs-lookup"><span data-stu-id="15d93-112">Both publishing modes produce a platform-specific executable by default.</span></span> <span data-ttu-id="15d93-113">Приложения, зависящие от среды, могут создаваться без исполняемого файла, и эти приложения являются кросс-платформенными.</span><span class="sxs-lookup"><span data-stu-id="15d93-113">Framework-dependent applications can be created without an executable, and these applications are cross-platform.</span></span>

<span data-ttu-id="15d93-114">При создании исполняемого файла можно указать целевую платформу с идентификатором среды выполнения (RID).</span><span class="sxs-lookup"><span data-stu-id="15d93-114">When an executable is produced, you can specify the target platform with a runtime identifier (RID).</span></span> <span data-ttu-id="15d93-115">Дополнительные сведения об идентификаторах среды выполнения см. в [этом каталоге для .NET](../rid-catalog.md).</span><span class="sxs-lookup"><span data-stu-id="15d93-115">For more information about RIDs, see [.NET RID Catalog](../rid-catalog.md).</span></span>

<span data-ttu-id="15d93-116">В следующей таблице приведены команды, используемые для публикации автономных и зависящих от среды для каждой версии пакета SDK:</span><span class="sxs-lookup"><span data-stu-id="15d93-116">The following table outlines the commands used to publish an app as framework-dependent or self-contained, per SDK version:</span></span>

| <span data-ttu-id="15d93-117">Type</span><span class="sxs-lookup"><span data-stu-id="15d93-117">Type</span></span>                                                                                     | <span data-ttu-id="15d93-118">SDK 2.1</span><span class="sxs-lookup"><span data-stu-id="15d93-118">SDK 2.1</span></span> | <span data-ttu-id="15d93-119">SDK 3.1</span><span class="sxs-lookup"><span data-stu-id="15d93-119">SDK 3.1</span></span> | <span data-ttu-id="15d93-120">SDK 5.0</span><span class="sxs-lookup"><span data-stu-id="15d93-120">SDK 5.0</span></span> | <span data-ttu-id="15d93-121">Команда</span><span class="sxs-lookup"><span data-stu-id="15d93-121">Command</span></span> |
| ---------------------------------------------------------------------------------------  | ------- | ------- | ------- | ------- |
| <span data-ttu-id="15d93-122">[зависящий от среды исполняемый файл](#publish-framework-dependent) для текущей платформы.</span><span class="sxs-lookup"><span data-stu-id="15d93-122">[framework-dependent executable](#publish-framework-dependent) for the current platform.</span></span> |         | <span data-ttu-id="15d93-123">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-123">✔️</span></span>      | <span data-ttu-id="15d93-124">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-124">✔️</span></span>      | [`dotnet publish`](../tools/dotnet-publish.md) |
| <span data-ttu-id="15d93-125">[зависящий от среды исполняемый файл](#publish-framework-dependent) для определенной платформы.</span><span class="sxs-lookup"><span data-stu-id="15d93-125">[framework-dependent executable](#publish-framework-dependent) for a specific platform.</span></span>  |         | <span data-ttu-id="15d93-126">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-126">✔️</span></span>      | <span data-ttu-id="15d93-127">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-127">✔️</span></span>      | [`dotnet publish -r <RID> --self-contained false`](../tools/dotnet-publish.md) |
| <span data-ttu-id="15d93-128">[зависящий от среды кросс-платформенный двоичный файл](#publish-framework-dependent).</span><span class="sxs-lookup"><span data-stu-id="15d93-128">[framework-dependent cross-platform binary](#publish-framework-dependent).</span></span>               | <span data-ttu-id="15d93-129">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-129">✔️</span></span>      | <span data-ttu-id="15d93-130">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-130">✔️</span></span>      | <span data-ttu-id="15d93-131">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-131">✔️</span></span>      | [`dotnet publish`](../tools/dotnet-publish.md) |
| <span data-ttu-id="15d93-132">[автономный исполняемый файл](#publish-self-contained).</span><span class="sxs-lookup"><span data-stu-id="15d93-132">[self-contained executable](#publish-self-contained).</span></span>                                    | <span data-ttu-id="15d93-133">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-133">✔️</span></span>      | <span data-ttu-id="15d93-134">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-134">✔️</span></span>      | <span data-ttu-id="15d93-135">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-135">✔️</span></span>      | [`dotnet publish -r <RID>`](../tools/dotnet-publish.md) |

<span data-ttu-id="15d93-136">Дополнительные сведения см. в статье о [команде dotnet publish для .NET](../tools/dotnet-publish.md).</span><span class="sxs-lookup"><span data-stu-id="15d93-136">For more information, see [.NET dotnet publish command](../tools/dotnet-publish.md).</span></span>

## <a name="produce-an-executable"></a><span data-ttu-id="15d93-137">Создание исполняемого файла</span><span class="sxs-lookup"><span data-stu-id="15d93-137">Produce an executable</span></span>

<span data-ttu-id="15d93-138">Исполняемые файлы не являются кроссплатформенными.</span><span class="sxs-lookup"><span data-stu-id="15d93-138">Executables aren't cross-platform.</span></span> <span data-ttu-id="15d93-139">Они относятся к операционной системе и архитектуре ЦП.</span><span class="sxs-lookup"><span data-stu-id="15d93-139">They're specific to an operating system and CPU architecture.</span></span> <span data-ttu-id="15d93-140">При публикации приложения и создании исполняемого файла можно опубликовать приложение как [автономное](#publish-self-contained) или [зависящее от среды](#publish-framework-dependent).</span><span class="sxs-lookup"><span data-stu-id="15d93-140">When publishing your app and creating an executable, you can publish the app as [self-contained](#publish-self-contained) or [framework-dependent](#publish-framework-dependent).</span></span> <span data-ttu-id="15d93-141">При публикации автономного приложения в пакет включается среда выполнения .NET, поэтому пользователям не нужно беспокоиться об установке .NET перед запуском приложения.</span><span class="sxs-lookup"><span data-stu-id="15d93-141">Publishing an app as self-contained includes the .NET runtime with the app, and users of the app don't have to worry about installing .NET before running the app.</span></span> <span data-ttu-id="15d93-142">Приложения, опубликованные как зависимые от среды, не предусматривают среду выполнения и библиотеки .NET. В пакет входят только приложение и сторонние зависимости.</span><span class="sxs-lookup"><span data-stu-id="15d93-142">Apps published as framework-dependent don't include the .NET runtime and libraries; only the app and 3rd-party dependencies are included.</span></span>

<span data-ttu-id="15d93-143">Следующие команды создают исполняемый файл:</span><span class="sxs-lookup"><span data-stu-id="15d93-143">The following commands produce an executable:</span></span>

| <span data-ttu-id="15d93-144">Type</span><span class="sxs-lookup"><span data-stu-id="15d93-144">Type</span></span>                                                                                     | <span data-ttu-id="15d93-145">SDK 2.1</span><span class="sxs-lookup"><span data-stu-id="15d93-145">SDK 2.1</span></span> | <span data-ttu-id="15d93-146">SDK 3.1</span><span class="sxs-lookup"><span data-stu-id="15d93-146">SDK 3.1</span></span> | <span data-ttu-id="15d93-147">SDK 5.0</span><span class="sxs-lookup"><span data-stu-id="15d93-147">SDK 5.0</span></span> | <span data-ttu-id="15d93-148">Команда</span><span class="sxs-lookup"><span data-stu-id="15d93-148">Command</span></span> |
| ---------------------------------------------------------------------------------------- | ------- | ------- | ------- | ------- |
| <span data-ttu-id="15d93-149">[зависящий от среды исполняемый файл](#publish-framework-dependent) для текущей платформы.</span><span class="sxs-lookup"><span data-stu-id="15d93-149">[framework-dependent executable](#publish-framework-dependent) for the current platform.</span></span> |         | <span data-ttu-id="15d93-150">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-150">✔️</span></span>      | <span data-ttu-id="15d93-151">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-151">✔️</span></span>      | [`dotnet publish`](../tools/dotnet-publish.md) |
| <span data-ttu-id="15d93-152">[зависящий от среды исполняемый файл](#publish-framework-dependent) для определенной платформы.</span><span class="sxs-lookup"><span data-stu-id="15d93-152">[framework-dependent executable](#publish-framework-dependent) for a specific platform.</span></span>  |         | <span data-ttu-id="15d93-153">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-153">✔️</span></span>      | <span data-ttu-id="15d93-154">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-154">✔️</span></span>      | [`dotnet publish -r <RID> --self-contained false`](../tools/dotnet-publish.md) |
| <span data-ttu-id="15d93-155">[автономный исполняемый файл](#publish-self-contained).</span><span class="sxs-lookup"><span data-stu-id="15d93-155">[self-contained executable](#publish-self-contained).</span></span>                                    | <span data-ttu-id="15d93-156">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-156">✔️</span></span>      | <span data-ttu-id="15d93-157">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-157">✔️</span></span>      | <span data-ttu-id="15d93-158">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-158">✔️</span></span>      | [`dotnet publish -r <RID>`](../tools/dotnet-publish.md) |

## <a name="produce-a-cross-platform-binary"></a><span data-ttu-id="15d93-159">Создание кроссплатформенного двоичного файла</span><span class="sxs-lookup"><span data-stu-id="15d93-159">Produce a cross-platform binary</span></span>

<span data-ttu-id="15d93-160">Кросс-платформенные двоичные файлы создаются при публикации приложения, [зависящего от среды](#publish-framework-dependent), в виде файла *DLL*.</span><span class="sxs-lookup"><span data-stu-id="15d93-160">Cross-platform binaries are created when you publish your app as [framework-dependent](#publish-framework-dependent), in the form of a *dll* file.</span></span> <span data-ttu-id="15d93-161">Файл *DLL* называется по имени вашего проекта.</span><span class="sxs-lookup"><span data-stu-id="15d93-161">The *dll* file is named after your project.</span></span> <span data-ttu-id="15d93-162">Например, если ваше приложение называется **word_reader**, создается файл с именем *word_reader.dll*.</span><span class="sxs-lookup"><span data-stu-id="15d93-162">For example, if you have an app named **word_reader**, a file named *word_reader.dll* is created.</span></span> <span data-ttu-id="15d93-163">Приложения, опубликованные таким образом, выполняются с помощью команды `dotnet <filename.dll>` на любой платформе.</span><span class="sxs-lookup"><span data-stu-id="15d93-163">Apps published in this way are run with the `dotnet <filename.dll>` command and can be run on any platform.</span></span>

<span data-ttu-id="15d93-164">Кроссплатформенные двоичные файлы могут работать в любой операционной системе, если целевая среда выполнения .NET уже установлена.</span><span class="sxs-lookup"><span data-stu-id="15d93-164">Cross-platform binaries can be run on any operating system as long as the targeted .NET runtime is already installed.</span></span> <span data-ttu-id="15d93-165">Если же она не установлена, приложение может использовать для работы более новую среду выполнения, если настроено соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="15d93-165">If the targeted .NET runtime isn't installed, the app may run using a newer runtime if the app is configured to roll-forward.</span></span> <span data-ttu-id="15d93-166">Дополнительные сведения см. в разделе [Накат зависящих от среды приложений](../versions/selection.md#framework-dependent-apps-roll-forward).</span><span class="sxs-lookup"><span data-stu-id="15d93-166">For more information, see [framework-dependent apps roll forward](../versions/selection.md#framework-dependent-apps-roll-forward).</span></span>

<span data-ttu-id="15d93-167">Следующая команда создает кроссплатформенный двоичный файл:</span><span class="sxs-lookup"><span data-stu-id="15d93-167">The following command produces a cross-platform binary:</span></span>

| <span data-ttu-id="15d93-168">Type</span><span class="sxs-lookup"><span data-stu-id="15d93-168">Type</span></span>                                                                                 | <span data-ttu-id="15d93-169">SDK 2.1</span><span class="sxs-lookup"><span data-stu-id="15d93-169">SDK 2.1</span></span> | <span data-ttu-id="15d93-170">SDK 3.x</span><span class="sxs-lookup"><span data-stu-id="15d93-170">SDK 3.x</span></span> | <span data-ttu-id="15d93-171">SDK 5.0</span><span class="sxs-lookup"><span data-stu-id="15d93-171">SDK 5.0</span></span> | <span data-ttu-id="15d93-172">Команда</span><span class="sxs-lookup"><span data-stu-id="15d93-172">Command</span></span> |
| -----------------------------------------------------------------------------------  | ------- | ------- | ------- | ------- |
| <span data-ttu-id="15d93-173">[зависящий от среды кросс-платформенный двоичный файл](#publish-framework-dependent).</span><span class="sxs-lookup"><span data-stu-id="15d93-173">[framework-dependent cross-platform binary](#publish-framework-dependent).</span></span>           | <span data-ttu-id="15d93-174">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-174">✔️</span></span>      | <span data-ttu-id="15d93-175">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-175">✔️</span></span>      | <span data-ttu-id="15d93-176">✔️</span><span class="sxs-lookup"><span data-stu-id="15d93-176">✔️</span></span>      | [`dotnet publish`](../tools/dotnet-publish.md) |

## <a name="publish-framework-dependent"></a><span data-ttu-id="15d93-177">Публикация зависящих от среды приложений</span><span class="sxs-lookup"><span data-stu-id="15d93-177">Publish framework-dependent</span></span>

<span data-ttu-id="15d93-178">Приложения, опубликованные как зависящие от среды, являются кроссплатформенными и не включают среду выполнения .NET.</span><span class="sxs-lookup"><span data-stu-id="15d93-178">Apps published as framework-dependent are cross-platform and don't include the .NET runtime.</span></span> <span data-ttu-id="15d93-179">Пользователю нужно будет установить среду выполнения .NET.</span><span class="sxs-lookup"><span data-stu-id="15d93-179">The user of your app is required to install the .NET runtime.</span></span>

<span data-ttu-id="15d93-180">При публикации приложения, зависящего от среды, создается [кросс-платформенный двоичный файл](#produce-a-cross-platform-binary) с расширением *DLL* и [исполняемый файл, зависящий от платформы](#produce-an-executable), предназначенный для текущей платформы.</span><span class="sxs-lookup"><span data-stu-id="15d93-180">Publishing an app as framework-dependent produces a [cross-platform binary](#produce-a-cross-platform-binary) as a *dll* file, and a [platform-specific executable](#produce-an-executable) that targets your current platform.</span></span> <span data-ttu-id="15d93-181">Файл *DLL* является кроссплатформенным, а исполняемый файл — нет.</span><span class="sxs-lookup"><span data-stu-id="15d93-181">The *dll* is cross-platform while the executable isn't.</span></span> <span data-ttu-id="15d93-182">Например, при публикации приложения с именем **word_reader** для Windows создается исполняемый файл *word_reader.exe* и файл *word_reader.dll*.</span><span class="sxs-lookup"><span data-stu-id="15d93-182">For example, if you publish an app named **word_reader** and target Windows, a *word_reader.exe* executable is created along with *word_reader.dll*.</span></span> <span data-ttu-id="15d93-183">Для Linux или macOS создается исполняемый файл *word_reader*, а также *word_reader.dll*.</span><span class="sxs-lookup"><span data-stu-id="15d93-183">When targeting Linux or macOS, a *word_reader* executable is created along with *word_reader.dll*.</span></span> <span data-ttu-id="15d93-184">Дополнительные сведения об идентификаторах среды выполнения см. в [этом каталоге для .NET](../rid-catalog.md).</span><span class="sxs-lookup"><span data-stu-id="15d93-184">For more information about RIDs, see [.NET RID Catalog](../rid-catalog.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="15d93-185">Пакет SDK для .NET 2.1 не создает исполняемые файлы, зависящие от платформы, при публикации приложения, зависящего от среды.</span><span class="sxs-lookup"><span data-stu-id="15d93-185">.NET SDK 2.1 doesn't produce platform-specific executables when you publish an app framework-dependent.</span></span>

<span data-ttu-id="15d93-186">Кроссплатформенный двоичный файл приложения можно запустить с помощью команды `dotnet <filename.dll>` и выполнять на любой платформе.</span><span class="sxs-lookup"><span data-stu-id="15d93-186">The cross-platform binary of your app can be run with the `dotnet <filename.dll>` command, and can be run on any platform.</span></span> <span data-ttu-id="15d93-187">Если приложение использует пакет NuGet с реализациями, зависящими от платформы, все зависимости платформ копируются в папку публикации вместе с приложением.</span><span class="sxs-lookup"><span data-stu-id="15d93-187">If the app uses a NuGet package that has platform-specific implementations, all platforms' dependencies are copied to the publish folder along with the app.</span></span>

<span data-ttu-id="15d93-188">Вы можете создать исполняемый файл для конкретной платформы, передав параметры `-r <RID> --self-contained false` в команде [`dotnet publish`](../tools/dotnet-publish.md).</span><span class="sxs-lookup"><span data-stu-id="15d93-188">You can create an executable for a specific platform by passing the `-r <RID> --self-contained false` parameters to the [`dotnet publish`](../tools/dotnet-publish.md) command.</span></span> <span data-ttu-id="15d93-189">Если параметр `-r` опущен, для текущей платформы создается исполняемый файл.</span><span class="sxs-lookup"><span data-stu-id="15d93-189">When the `-r` parameter is omitted, an executable is created for your current platform.</span></span> <span data-ttu-id="15d93-190">Все пакеты NuGet, имеющие зависящие от платформы зависимости для целевой платформы, копируются в папку публикации.</span><span class="sxs-lookup"><span data-stu-id="15d93-190">Any NuGet packages that have platform-specific dependencies for the targeted platform are copied to the publish folder.</span></span> <span data-ttu-id="15d93-191">Если вам не нужен связанный с платформой исполняемый файл, можно указать `<UseAppHost>False</UseAppHost>` в файле проекта.</span><span class="sxs-lookup"><span data-stu-id="15d93-191">If you don't need a platfrom-specific executable, you can specify `<UseAppHost>False</UseAppHost>` in the project file.</span></span> <span data-ttu-id="15d93-192">Дополнительные сведения см. в статье [Справочник по MSBuild для проектов пакета SDK для .NET](../project-sdk/msbuild-props.md#useapphost).</span><span class="sxs-lookup"><span data-stu-id="15d93-192">For more information, see [MSBuild reference for .NET SDK projects](../project-sdk/msbuild-props.md#useapphost).</span></span>

### <a name="advantages"></a><span data-ttu-id="15d93-193">Преимущества</span><span class="sxs-lookup"><span data-stu-id="15d93-193">Advantages</span></span>

- <span data-ttu-id="15d93-194">**Небольшое развертывание**</span><span class="sxs-lookup"><span data-stu-id="15d93-194">**Small deployment**</span></span>\
<span data-ttu-id="15d93-195">Распределяются только приложение и его зависимости.</span><span class="sxs-lookup"><span data-stu-id="15d93-195">Only your app and its dependencies are distributed.</span></span> <span data-ttu-id="15d93-196">Среду выполнения и библиотеки .NET устанавливает пользователь, и все приложения совместно используют среду выполнения.</span><span class="sxs-lookup"><span data-stu-id="15d93-196">The .NET runtime and libraries are installed by the user and all apps share the runtime.</span></span>

- <span data-ttu-id="15d93-197">**Кроссплатформенные приложения**</span><span class="sxs-lookup"><span data-stu-id="15d93-197">**Cross-platform**</span></span>\
<span data-ttu-id="15d93-198">Ваше приложение и библиотеки на основе .NET работают в других операционных системах.</span><span class="sxs-lookup"><span data-stu-id="15d93-198">Your app and any .NET-based library runs on other operating systems.</span></span> <span data-ttu-id="15d93-199">Для приложения не нужно определять целевую платформу.</span><span class="sxs-lookup"><span data-stu-id="15d93-199">You don't need to define a target platform for your app.</span></span> <span data-ttu-id="15d93-200">Дополнительные сведения о формате файлов .NET см. в разделе [Формат файла сборки .NET](../../standard/assembly/file-format.md).</span><span class="sxs-lookup"><span data-stu-id="15d93-200">For information about the .NET file format, see [.NET Assembly File Format](../../standard/assembly/file-format.md).</span></span>

- <span data-ttu-id="15d93-201">**Использует последнюю исправленную версию среды выполнения**</span><span class="sxs-lookup"><span data-stu-id="15d93-201">**Uses the latest patched runtime**</span></span>\
<span data-ttu-id="15d93-202">Приложение использует самую новую среду выполнения (в рамках целевого основного и дополнительного семейства .NET), установленную в целевой системе.</span><span class="sxs-lookup"><span data-stu-id="15d93-202">The app uses the latest runtime (within the targeted major-minor family of .NET) installed on the target system.</span></span> <span data-ttu-id="15d93-203">Это означает, что приложение будет автоматически использовать последнюю исправленную версию среды выполнения .NET.</span><span class="sxs-lookup"><span data-stu-id="15d93-203">This means your app automatically uses the latest patched version of the .NET runtime.</span></span> <span data-ttu-id="15d93-204">Поведение по умолчанию можно переопределить.</span><span class="sxs-lookup"><span data-stu-id="15d93-204">This default behavior can be overridden.</span></span> <span data-ttu-id="15d93-205">Дополнительные сведения см. в разделе [Накат зависящих от среды приложений](../versions/selection.md#framework-dependent-apps-roll-forward).</span><span class="sxs-lookup"><span data-stu-id="15d93-205">For more information, see [framework-dependent apps roll forward](../versions/selection.md#framework-dependent-apps-roll-forward).</span></span>

### <a name="disadvantages"></a><span data-ttu-id="15d93-206">Недостатки</span><span class="sxs-lookup"><span data-stu-id="15d93-206">Disadvantages</span></span>

- <span data-ttu-id="15d93-207">**Требует предварительной установки среды выполнения**</span><span class="sxs-lookup"><span data-stu-id="15d93-207">**Requires pre-installing the runtime**</span></span>\
<span data-ttu-id="15d93-208">Приложение может выполняться, только если в системе, в которой оно размещено, уже установлена целевая версия .NET.</span><span class="sxs-lookup"><span data-stu-id="15d93-208">Your app can run only if the version of .NET your app targets is already installed on the host system.</span></span> <span data-ttu-id="15d93-209">Вы можете настроить поведение наката для приложения, чтобы либо требовать определенную версию .NET, либо разрешить более новую версию.</span><span class="sxs-lookup"><span data-stu-id="15d93-209">You can configure roll-forward behavior for the app to either require a specific version of .NET or allow a newer version of .NET.</span></span> <span data-ttu-id="15d93-210">Дополнительные сведения см. в разделе [Накат зависящих от среды приложений](../versions/selection.md#framework-dependent-apps-roll-forward).</span><span class="sxs-lookup"><span data-stu-id="15d93-210">For more information, see [framework-dependent apps roll forward](../versions/selection.md#framework-dependent-apps-roll-forward).</span></span>

- <span data-ttu-id="15d93-211">**.NET может измениться**</span><span class="sxs-lookup"><span data-stu-id="15d93-211">**.NET may change**</span></span>\
<span data-ttu-id="15d93-212">Среду выполнения и библиотеки .NET можно обновлять на компьютере, где выполняется приложение.</span><span class="sxs-lookup"><span data-stu-id="15d93-212">It's possible for the .NET runtime and libraries to be updated on the machine where the app is run.</span></span> <span data-ttu-id="15d93-213">В редких случаях это может изменить поведение приложения, если используются библиотеки .NET, что характерно для большинства приложений.</span><span class="sxs-lookup"><span data-stu-id="15d93-213">In rare cases, this may change the behavior of your app if you use the .NET libraries, which most apps do.</span></span> <span data-ttu-id="15d93-214">Вы можете настроить, как приложение будет использовать более новые версии .NET.</span><span class="sxs-lookup"><span data-stu-id="15d93-214">You can configure how your app uses newer versions of .NET.</span></span> <span data-ttu-id="15d93-215">Дополнительные сведения см. в разделе [Накат зависящих от среды приложений](../versions/selection.md#framework-dependent-apps-roll-forward).</span><span class="sxs-lookup"><span data-stu-id="15d93-215">For more information, see [framework-dependent apps roll forward](../versions/selection.md#framework-dependent-apps-roll-forward).</span></span>

<span data-ttu-id="15d93-216">Приведенные ниже недостатки применимы только к пакету SDK для .NET Core 2.1.</span><span class="sxs-lookup"><span data-stu-id="15d93-216">The following disadvantage only applies to .NET Core 2.1 SDK.</span></span>

- <span data-ttu-id="15d93-217">**Используйте команду `dotnet`, чтобы запустить приложение**</span><span class="sxs-lookup"><span data-stu-id="15d93-217">**Use the `dotnet` command to start the app**</span></span>\
<span data-ttu-id="15d93-218">Для запуска приложения пользователи должны выполнить команду `dotnet <filename.dll>`.</span><span class="sxs-lookup"><span data-stu-id="15d93-218">Users must run the `dotnet <filename.dll>` command to start your app.</span></span> <span data-ttu-id="15d93-219">Пакет SDK для .NET Core 2.1 не создает исполняемые файлы, зависящие от платформы, при публикации приложения, зависящего от среды.</span><span class="sxs-lookup"><span data-stu-id="15d93-219">.NET Core 2.1 SDK doesn't produce platform-specific executables for apps published framework-dependent.</span></span>

### <a name="examples"></a><span data-ttu-id="15d93-220">Примеры</span><span class="sxs-lookup"><span data-stu-id="15d93-220">Examples</span></span>

<span data-ttu-id="15d93-221">Публикация кросс-платформенного приложения, зависящего от среды.</span><span class="sxs-lookup"><span data-stu-id="15d93-221">Publish an app cross-platform framework-dependent.</span></span> <span data-ttu-id="15d93-222">Исполняемый файл, предназначенный для текущей платформы, создается вместе с *DLL*-файлом.</span><span class="sxs-lookup"><span data-stu-id="15d93-222">An executable that targets your current platform is created along with the *dll* file.</span></span>

```dotnet
dotnet publish
```

<span data-ttu-id="15d93-223">Публикация кросс-платформенного приложения, зависящего от среды.</span><span class="sxs-lookup"><span data-stu-id="15d93-223">Publish an app cross-platform framework-dependent.</span></span> <span data-ttu-id="15d93-224">Вместе с *DLL*-файлом создается 64-разрядный исполняемый файл Linux.</span><span class="sxs-lookup"><span data-stu-id="15d93-224">A Linux 64-bit executable is created along with the *dll* file.</span></span> <span data-ttu-id="15d93-225">Эта команда не работает с пакетом SDK для .NET Core 2.1.</span><span class="sxs-lookup"><span data-stu-id="15d93-225">This command doesn't work with .NET Core SDK 2.1.</span></span>

```dotnet
dotnet publish -r linux-x64 --self-contained false
```

## <a name="publish-self-contained"></a><span data-ttu-id="15d93-226">Публикация автономных приложений</span><span class="sxs-lookup"><span data-stu-id="15d93-226">Publish self-contained</span></span>

<span data-ttu-id="15d93-227">При публикации автономного приложения создается исполняемый файл, зависящий от платформы.</span><span class="sxs-lookup"><span data-stu-id="15d93-227">Publishing your app as self-contained produces a platform-specific executable.</span></span> <span data-ttu-id="15d93-228">Выходная папка публикации содержит все компоненты приложения, в том числе библиотеки .NET и целевую среду выполнения.</span><span class="sxs-lookup"><span data-stu-id="15d93-228">The output publishing folder contains all components of the app, including the .NET libraries and target runtime.</span></span> <span data-ttu-id="15d93-229">Приложение изолировано от других приложений .NET и не использует локально установленную общую среду выполнения.</span><span class="sxs-lookup"><span data-stu-id="15d93-229">The app is isolated from other .NET apps and doesn't use a locally installed shared runtime.</span></span> <span data-ttu-id="15d93-230">Пользователю приложения не требуется скачивать и устанавливать .NET.</span><span class="sxs-lookup"><span data-stu-id="15d93-230">The user of your app isn't required to download and install .NET.</span></span>

<span data-ttu-id="15d93-231">Исполняемый двоичный файл создается для указанной целевой платформы.</span><span class="sxs-lookup"><span data-stu-id="15d93-231">The executable binary is produced for the specified target platform.</span></span> <span data-ttu-id="15d93-232">Например, если у вас есть приложение с именем **word_reader** и вы публикуете автономный исполняемый файл для Windows, создается файл *word_reader.exe*.</span><span class="sxs-lookup"><span data-stu-id="15d93-232">For example, if you have an app named **word_reader**, and you publish a self-contained executable for Windows, a *word_reader.exe* file is created.</span></span> <span data-ttu-id="15d93-233">При публикации для Linux или macOS создается файл *word_reader*.</span><span class="sxs-lookup"><span data-stu-id="15d93-233">Publishing for Linux or macOS, a *word_reader* file is created.</span></span> <span data-ttu-id="15d93-234">Целевая платформа и архитектура указываются с помощью параметра `-r <RID>` для команды [`dotnet publish`](../tools/dotnet-publish.md).</span><span class="sxs-lookup"><span data-stu-id="15d93-234">The target platform and architecture is specified with the `-r <RID>` parameter for the [`dotnet publish`](../tools/dotnet-publish.md) command.</span></span> <span data-ttu-id="15d93-235">Дополнительные сведения об идентификаторах среды выполнения см. в [этом каталоге для .NET](../rid-catalog.md).</span><span class="sxs-lookup"><span data-stu-id="15d93-235">For more information about RIDs, see [.NET RID Catalog](../rid-catalog.md).</span></span>

<span data-ttu-id="15d93-236">Если приложение имеет зависимости для определенной платформы, например пакет NuGet, содержащий зависимости для определенной платформы, они копируются в папку публикации вместе с приложением.</span><span class="sxs-lookup"><span data-stu-id="15d93-236">If the app has platform-specific dependencies, such as a NuGet package containing platform-specific dependencies, these are copied to the publish folder along with the app.</span></span>

### <a name="advantages"></a><span data-ttu-id="15d93-237">Преимущества</span><span class="sxs-lookup"><span data-stu-id="15d93-237">Advantages</span></span>

- <span data-ttu-id="15d93-238">**Управление версией .NET**</span><span class="sxs-lookup"><span data-stu-id="15d93-238">**Control .NET version**</span></span>\
<span data-ttu-id="15d93-239">Вы управляете тем, какая версия .NET развертывается вместе с приложением.</span><span class="sxs-lookup"><span data-stu-id="15d93-239">You control which version of .NET is deployed with your app.</span></span>

- <span data-ttu-id="15d93-240">**Нацеливание на конкретные платформы**</span><span class="sxs-lookup"><span data-stu-id="15d93-240">**Platform-specific targeting**</span></span>\
<span data-ttu-id="15d93-241">Поскольку необходимо опубликовать приложение для каждой платформы, вы знаете, где будет выполняться приложение.</span><span class="sxs-lookup"><span data-stu-id="15d93-241">Because you have to publish your app for each platform, you know where your app will run.</span></span> <span data-ttu-id="15d93-242">Если в .NET появляется новая платформа, пользователи не смогут запустить приложение на ней до выпуска версии, предназначенной для этой платформы.</span><span class="sxs-lookup"><span data-stu-id="15d93-242">If .NET introduces a new platform, users can't run your app on that platform until you release a version targeting that platform.</span></span> <span data-ttu-id="15d93-243">Вы можете протестировать приложение на наличие проблем совместимости перед тем, как пользователи запустят приложение на новой платформе.</span><span class="sxs-lookup"><span data-stu-id="15d93-243">You can test your app for compatibility problems before your users run your app on the new platform.</span></span>

### <a name="disadvantages"></a><span data-ttu-id="15d93-244">Недостатки</span><span class="sxs-lookup"><span data-stu-id="15d93-244">Disadvantages</span></span>

- <span data-ttu-id="15d93-245">**Более крупные развертывания**</span><span class="sxs-lookup"><span data-stu-id="15d93-245">**Larger deployments**</span></span>\
<span data-ttu-id="15d93-246">Так как приложение включает среду выполнения .NET и все зависимости приложения, размер скачиваемого файла и требуемого пространства на жестком диске будет больше, чем для версии, [зависящей от среды](#publish-framework-dependent).</span><span class="sxs-lookup"><span data-stu-id="15d93-246">Because your app includes the .NET runtime and all of your app dependencies, the download size and hard drive space required is greater than a [framework-dependent](#publish-framework-dependent) version.</span></span>

  > [!TIP]
  > <span data-ttu-id="15d93-247">Вы можете уменьшить размер развертывания в системах Linux примерно на 28 МБ с помощью [*инвариантного режима глобализации*](https://github.com/dotnet/runtime/blob/main/docs/design/features/globalization-invariant-mode.md) .NET.</span><span class="sxs-lookup"><span data-stu-id="15d93-247">You can reduce the size of your deployment on Linux systems by approximately 28 MB by using .NET [*globalization invariant mode*](https://github.com/dotnet/runtime/blob/main/docs/design/features/globalization-invariant-mode.md).</span></span> <span data-ttu-id="15d93-248">С его помощью приложение будет обрабатывать все языки и региональные параметры как [инвариантные языки и региональные параметры](xref:System.Globalization.CultureInfo.InvariantCulture?displayProperty=nameWithType).</span><span class="sxs-lookup"><span data-stu-id="15d93-248">This forces your app to treat all cultures like the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture?displayProperty=nameWithType).</span></span>

  > [!TIP]
  > <span data-ttu-id="15d93-249">Существует [предварительная версия функция усечения](trim-self-contained.md) позволяющая еще больше уменьшить размер развертывания.</span><span class="sxs-lookup"><span data-stu-id="15d93-249">There is a [preview Trim feature](trim-self-contained.md) that can further reduce the size of your deployment.</span></span>

- <span data-ttu-id="15d93-250">**Усложненное обновление версии .NET**</span><span class="sxs-lookup"><span data-stu-id="15d93-250">**Harder to update the .NET version**</span></span>\
<span data-ttu-id="15d93-251">Среду выполнения .NET (распространяемую с вашим приложением) можно обновить только путем выпуска новой версии приложения.</span><span class="sxs-lookup"><span data-stu-id="15d93-251">.NET Runtime (distributed with your app) can only be upgraded by releasing a new version of your app.</span></span> <span data-ttu-id="15d93-252">Но при необходимости.NET обновит критически важные обновления системы безопасности для библиотеки платформы на компьютере, на котором выполняется приложение.</span><span class="sxs-lookup"><span data-stu-id="15d93-252">However, .NET will update critical security patches as needed for the framework library in the  machine that your app runs on.</span></span> <span data-ttu-id="15d93-253">Ответственность за полную проверку этого сценария обновления системы безопасности лежит на вас.</span><span class="sxs-lookup"><span data-stu-id="15d93-253">You are responsible for end to end validation for this security patch scenario.</span></span>

### <a name="examples"></a><span data-ttu-id="15d93-254">Примеры</span><span class="sxs-lookup"><span data-stu-id="15d93-254">Examples</span></span>

<span data-ttu-id="15d93-255">Публикация автономного приложения.</span><span class="sxs-lookup"><span data-stu-id="15d93-255">Publish an app self-contained.</span></span> <span data-ttu-id="15d93-256">Создается 64-разрядный исполняемый файл macOS.</span><span class="sxs-lookup"><span data-stu-id="15d93-256">A macOS 64-bit executable is created.</span></span>

```dotnet
dotnet publish -r osx-x64
```

<span data-ttu-id="15d93-257">Публикация автономного приложения.</span><span class="sxs-lookup"><span data-stu-id="15d93-257">Publish an app self-contained.</span></span> <span data-ttu-id="15d93-258">Создается 64-разрядный исполняемый файл Windows.</span><span class="sxs-lookup"><span data-stu-id="15d93-258">A Windows 64-bit executable is created.</span></span>

```dotnet
dotnet publish -r win-x64
```

## <a name="publish-with-readytorun-images"></a><span data-ttu-id="15d93-259">Публикация с использованием образов ReadyToRun</span><span class="sxs-lookup"><span data-stu-id="15d93-259">Publish with ReadyToRun images</span></span>

<span data-ttu-id="15d93-260">Публикация с использованием образов ReadyToRun помогает оптимизировать время запуска приложения, хотя размер приложения при этом будет увеличен.</span><span class="sxs-lookup"><span data-stu-id="15d93-260">Publishing with ReadyToRun images will improve the startup time of your application at the cost of increasing the size of your application.</span></span> <span data-ttu-id="15d93-261">Дополнительные сведения о публикации с использованием ReadyToRun см. [здесь](ready-to-run.md).</span><span class="sxs-lookup"><span data-stu-id="15d93-261">In order to publish with ReadyToRun see [ReadyToRun](ready-to-run.md) for more details.</span></span>

### <a name="advantages"></a><span data-ttu-id="15d93-262">Преимущества</span><span class="sxs-lookup"><span data-stu-id="15d93-262">Advantages</span></span>

- <span data-ttu-id="15d93-263">**Оптимизированное времени запуска**</span><span class="sxs-lookup"><span data-stu-id="15d93-263">**Improved startup time**</span></span>\
<span data-ttu-id="15d93-264">Приложение будет тратить меньше времени на выполнение JIT.</span><span class="sxs-lookup"><span data-stu-id="15d93-264">The application will spend less time running the JIT.</span></span>

### <a name="disadvantages"></a><span data-ttu-id="15d93-265">Недостатки</span><span class="sxs-lookup"><span data-stu-id="15d93-265">Disadvantages</span></span>

- <span data-ttu-id="15d93-266">**Больший размер**</span><span class="sxs-lookup"><span data-stu-id="15d93-266">**Larger size**</span></span>\
<span data-ttu-id="15d93-267">Приложение будет занимать больше места на диске.</span><span class="sxs-lookup"><span data-stu-id="15d93-267">The application will be larger on disk.</span></span>

### <a name="examples"></a><span data-ttu-id="15d93-268">Примеры</span><span class="sxs-lookup"><span data-stu-id="15d93-268">Examples</span></span>

<span data-ttu-id="15d93-269">Опубликуйте автономное приложение с помощью ReadyToRun.</span><span class="sxs-lookup"><span data-stu-id="15d93-269">Publish an app self-contained and ReadyToRun.</span></span> <span data-ttu-id="15d93-270">Создается 64-разрядный исполняемый файл macOS.</span><span class="sxs-lookup"><span data-stu-id="15d93-270">A macOS 64-bit executable is created.</span></span>

```dotnet
dotnet publish -c Release -r osx-x64 -p:PublishReadyToRun=true
```

<span data-ttu-id="15d93-271">Опубликуйте автономное приложение с помощью ReadyToRun.</span><span class="sxs-lookup"><span data-stu-id="15d93-271">Publish an app self-contained and ReadyToRun.</span></span> <span data-ttu-id="15d93-272">Создается 64-разрядный исполняемый файл Windows.</span><span class="sxs-lookup"><span data-stu-id="15d93-272">A Windows 64-bit executable is created.</span></span>

```dotnet
dotnet publish -c Release -r win-x64 -p:PublishReadyToRun=true
```

## <a name="see-also"></a><span data-ttu-id="15d93-273">См. также</span><span class="sxs-lookup"><span data-stu-id="15d93-273">See also</span></span>

- [<span data-ttu-id="15d93-274">Развертывание приложений .NET с помощью .NET CLI</span><span class="sxs-lookup"><span data-stu-id="15d93-274">Deploying .NET Apps with .NET CLI.</span></span>](deploy-with-cli.md)
- [<span data-ttu-id="15d93-275">Развертывание приложений .NET с помощью Visual Studio</span><span class="sxs-lookup"><span data-stu-id="15d93-275">Deploying .NET Apps with Visual Studio.</span></span>](deploy-with-vs.md)
- [<span data-ttu-id="15d93-276">Каталог идентификаторов сред выполнения .NET</span><span class="sxs-lookup"><span data-stu-id="15d93-276">.NET Runtime Identifier (RID) catalog.</span></span>](../rid-catalog.md)
- [<span data-ttu-id="15d93-277">Выбор версии .NET для использования</span><span class="sxs-lookup"><span data-stu-id="15d93-277">Select the .NET version to use.</span></span>](../versions/selection.md)
