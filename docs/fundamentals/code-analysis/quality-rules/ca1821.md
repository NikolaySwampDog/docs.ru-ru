---
title: 'CA1821: удалите пустые методы завершения (анализ кода)'
description: Дополнительные сведения о правиле анализа кода CA1821 — удалите пустые методы завершения
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- RemoveEmptyFinalizers
- CA1821
helpviewer_keywords:
- CA1821
author: gewarren
ms.author: gewarren
ms.openlocfilehash: 349d89b6c6b5dab5d709f0e94f34a03f9ae09425
ms.sourcegitcommit: 05d0087dfca85aac9ca2960f86c5efd218bf833f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/30/2021
ms.locfileid: "99776752"
---
# <a name="ca1821-remove-empty-finalizers"></a>CA1821. Удалите пустые методы завершения

| | Значение |
|-|-|
| **Идентификатор правила** |CA1821|
| **Категория** |[Производительность](performance-warnings.md)|
| **Исправление является критическим или не критическим** |Не критическое|

## <a name="cause"></a>Причина

Тип реализует метод завершения, который является пустым, вызывает только метод завершения базового типа или вызывает только условно порожденные методы.

## <a name="rule-description"></a>Описание правила

Если возможно, старайтесь не использовать методы завершения, поскольку из-за отслеживания жизненного срока объектов снижается производительность программы. Сборщик мусора запускает метод завершения перед сбором объекта. Это означает, что для сбора объекта требуется по крайней мере две коллекции. Пустой метод завершения приводит к дополнительной нагрузке без каких бы то ни было преимуществ.

## <a name="how-to-fix-violations"></a>Устранение нарушений

Удалите пустой метод завершения. Если для отладки требуется метод завершения, заключите весь метод завершения в директивы `#if DEBUG / #endif`.

## <a name="when-to-suppress-warnings"></a>Условия для отключения предупреждений

Для этого правила отключать вывод предупреждений не следует.

## <a name="example"></a>Пример

В следующем примере показан пустой метод завершения, который следует удалить, метод завершения, который должен быть заключен в директивы `#if DEBUG / #endif`, и метод завершения, который правильно использует директивы `#if DEBUG / #endif`.

:::code language="csharp" source="snippets/csharp/all-rules/ca1821.cs" id="snippet1":::
