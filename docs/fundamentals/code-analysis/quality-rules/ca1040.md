---
title: 'CA1040: не используйте пустые интерфейсы (анализ кода)'
description: 'Сведения о правиле анализа кода "CA1040: не используйте пустые интерфейсы"'
ms.date: 03/11/2019
ms.topic: reference
f1_keywords:
- CA1040
- AvoidEmptyInterfaces
helpviewer_keywords:
- AvoidEmptyInterfaces
- CA1040
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: b8b50fce6f42d327e4c22c168241998aad26ff72
ms.sourcegitcommit: 05d0087dfca85aac9ca2960f86c5efd218bf833f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/30/2021
ms.locfileid: "99547145"
---
# <a name="ca1040-avoid-empty-interfaces"></a>CA1040. Не используйте пустые интерфейсы

| Элемент                                     | Значение            |
|------------------------------------------|------------------|
| Идентификатор правила                                   | CA1040           |
| Категория                                 | [Microsoft.Design](design-warnings.md) |
| Исправление является критическим или не критическим | Критическое         |

## <a name="cause"></a>Причина

Интерфейс не объявляет никакие элементы или не реализует как минимум два других интерфейса.

По умолчанию это правило проверяет только видимые извне интерфейсы, но это поведение [можно настроить](#configure-code-to-analyze).

## <a name="rule-description"></a>Описание правила

Интерфейсы определяют члены, предоставляющие поведение или соглашение об использовании. Функциональность, описанная интерфейсом, может быть использована любым типом вне зависимости от расположения типа в иерархии интерфейса. Тип реализует интерфейс путем предоставления реализаций для членов интерфейса. Пустой интерфейс не определяет никакие элементы. Следовательно, он не определяет контракт, который можно реализовать.

Если ваш дизайн включает пустые интерфейсы, которые, как ожидается, будут реализованы типами, вы, вероятно, используете интерфейс как метку или способ идентифицировать группу типов. Если эта идентификация будет происходить во время выполнения, то правильнее использовать для этого настраиваемый атрибут. Для определения целевых типов используйте присутствие или отсутствие атрибута либо свойства атрибута. Если идентификация должна происходить во время компиляции, то использовать пустой интерфейс допустимо.

## <a name="how-to-fix-violations"></a>Устранение нарушений

Удалите интерфейс или добавьте в него элементы. Если пустой интерфейс используется для отметки набора типов, замените этот интерфейс настраиваемым атрибутом.

## <a name="when-to-suppress-warnings"></a>Условия для отключения предупреждений

Вы можете безопасно отключить предупреждение из этого правила, если интерфейс используется для идентификации набора типов во время компиляции.

[!INCLUDE [suppress-warning](../../../../includes/code-analysis/suppress-warning.md)]

## <a name="configure-code-to-analyze"></a>Настройка кода для анализа

Используйте следующий параметр, чтобы выбрать части базы кода для применения этого правила.

- [Включение определенных контактных зон API](#include-specific-api-surfaces)

Этот параметр можно настроить только для некоторого правила, для всех правил или для всех правил в этой категории ([конструктор](design-warnings.md)). Дополнительные сведения см. в статье [Параметры конфигурации правила качества кода](../code-quality-rule-options.md).

[!INCLUDE[api-surface](~/includes/code-analysis/api-surface.md)]

## <a name="example"></a>Пример

В следующем примере показан пустой интерфейс.

```csharp
// Violates rule
public interface IBadInterface
{
}
```

```vb
' Violates rule
Public Interface IBadInterface
End Interface
```
