---
title: 'CA1034: вложенные типы не должны быть видимыми (анализ кода)'
description: 'Сведения о правиле анализа кода CA1034: вложенные типы не должны быть видимыми.'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- NestedTypesShouldNotBeVisible
- CA1034
helpviewer_keywords:
- NestedTypesShouldNotBeVisible
- CA1034
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: 75b02b4062a3017a735f54ed7d118395e40da936
ms.sourcegitcommit: bbc724b72fb6c978905ac715e4033efa291f84dc
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/13/2021
ms.locfileid: "107369677"
---
# <a name="ca1034-nested-types-should-not-be-visible"></a>CA1034. Вложенные типы не должны быть видимыми

| Элемент                                     | Значение            |
|------------------------------------------|------------------|
| Идентификатор правила                                   | CA1034           |
| Категория                                 | [Microsoft.Design](design-warnings.md) |
| Исправление является критическим или не критическим | Критическое         |

## <a name="cause"></a>Причина

Видимый извне тип содержит объявление видимого извне типа. Это правило не распространяется на вложенные перечисления, защищенные типы и шаблоны построителя.

## <a name="rule-description"></a>Описание правила

Вложенный тип — это тип, объявленный внутри области другого типа. Вложенные типы удобно использовать для инкапсуляции закрытых сведений о реализациях содержащего их типа. В силу этого вложенные типы не должны быть видимыми для внешнего кода.

Не используйте внешние видимые вложенные типы для логической группировки или во избежание конфликтов имен. Вместо них следует использовать пространства имен.

Вложенные типы включают в себя понятие доступности членов, которое некоторые программисты не всегда четко понимают.

Защищенные типы можно использовать в подклассах и вложенных типах в сценариях дополнительной настройки.

## <a name="how-to-fix-violations"></a>Устранение нарушений

Если вложенный тип не должен быть видимым извне, следует изменить его доступность. В противном случае нужно удалить вложенный тип из его родителя. Если целью вложенности является категоризация вложенного типа, используйте пространство имен для создания иерархии.

## <a name="when-to-suppress-warnings"></a>Условия для отключения предупреждений

Для этого правила отключать вывод предупреждений не следует.

## <a name="example"></a>Пример

В следующем примере показан тип, нарушающий это правило.

```csharp
public class ParentType
{
    public class NestedType
    {
        public NestedType()
        {
        }
    }

    public ParentType()
    {
        NestedType nt = new NestedType();
    }
}
```

:::code language="vb" source="snippets/vb/all-rules/ca1034-nested-types-should-not-be-visible_1.vb":::
