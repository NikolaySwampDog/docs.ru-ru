---
description: Параметры компилятора C# для правил языковых функций. Эти параметры определяют способ интерпретации компилятором определенных языковых конструкций.
title: Параметры компилятора C# — правила языковых функций
ms.date: 03/12/2021
f1_keywords:
- cs.build.options
helpviewer_keywords:
- CheckForOverflowUnderflow compiler option [C#]
- AllowUnsafeBlocks compiler option [C#]
- DefineConstants compiler option [C#]
- LangVersion compiler option [C#]
- Nullable compiler option [C#]
ms.openlocfilehash: 7d1d00a52bd2ca1608d4059d7d217e763defa7b9
ms.sourcegitcommit: 0bb8074d524e0dcf165430b744bb143461f17026
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/15/2021
ms.locfileid: "103482479"
---
# <a name="c-compiler-options-for-language-feature-rules"></a><span data-ttu-id="b959a-104">Параметры компилятора C# для правил языковых функций</span><span class="sxs-lookup"><span data-stu-id="b959a-104">C# Compiler Options for language feature rules</span></span>

<span data-ttu-id="b959a-105">Следующие параметры определяют, как компилятор интерпретирует языковые функции.</span><span class="sxs-lookup"><span data-stu-id="b959a-105">The following options control how the compiler interprets language features.</span></span> <span data-ttu-id="b959a-106">Новый синтаксис MSBuild выделен **полужирным шрифтом**.</span><span class="sxs-lookup"><span data-stu-id="b959a-106">The new MSBuild syntax is shown in **Bold**.</span></span> <span data-ttu-id="b959a-107">Для старого синтаксиса *csc.exe* используется формат `code style`.</span><span class="sxs-lookup"><span data-stu-id="b959a-107">The older *csc.exe* syntax is shown in `code style`.</span></span>

- <span data-ttu-id="b959a-108">**CheckForOverflowUnderflow** / `-checked`: создание проверок на переполнение.</span><span class="sxs-lookup"><span data-stu-id="b959a-108">**CheckForOverflowUnderflow** / `-checked`: Generate overflow checks.</span></span>
- <span data-ttu-id="b959a-109">**AllowUnsafeBlocks** / `-unsafe`: разрешение использовать небезопасный код.</span><span class="sxs-lookup"><span data-stu-id="b959a-109">**AllowUnsafeBlocks** / `-unsafe`: Allow 'unsafe' code.</span></span>
- <span data-ttu-id="b959a-110">**DefineConstants** / `-define`: определение символов условной компиляции.</span><span class="sxs-lookup"><span data-stu-id="b959a-110">**DefineConstants** / `-define`: Define conditional compilation symbol(s).</span></span>
- <span data-ttu-id="b959a-111">**LangVersion** / `-langversion`: указание версии языка, например `default` (последняя основная версия) или `latest` (последняя версия, включая дополнительные версии).</span><span class="sxs-lookup"><span data-stu-id="b959a-111">**LangVersion** / `-langversion`: Specify language version such as `default` (latest major version), or `latest` (latest version, including minor versions).</span></span>
- <span data-ttu-id="b959a-112">**Nullable** / `-nullable`: включение контекста, допускающего значение NULL, или предупреждений, допускающих значение NULL.</span><span class="sxs-lookup"><span data-stu-id="b959a-112">**Nullable** / `-nullable`: Enable nullable context, or nullable warnings.</span></span>

## <a name="checkforoverflowunderflow"></a><span data-ttu-id="b959a-113">CheckForOverflowUnderflow</span><span class="sxs-lookup"><span data-stu-id="b959a-113">CheckForOverflowUnderflow</span></span>

<span data-ttu-id="b959a-114">Параметр **CheckForOverflowUnderflow** указывает, будет ли использование целочисленного арифметического оператора, в результате выполнения которого получено значение, выходящее за установленный для определенного типа данных диапазон значений, приводить к возникновению исключения во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="b959a-114">The **CheckForOverflowUnderflow** option specifies whether an integer arithmetic statement that results in a value that is outside the range of the data type causes a run-time exception.</span></span>  

```xml
<CheckForOverflowUnderflow>true</CheckForOverflowUnderflow>
```

<span data-ttu-id="b959a-115">Действие параметра **CheckForOverflowUnderflow** не распространяется на целочисленный арифметический оператор, находящийся в области действия ключевых слов `checked` или `unchecked`.</span><span class="sxs-lookup"><span data-stu-id="b959a-115">An integer arithmetic statement that is in the scope of a `checked` or `unchecked` keyword isn't subject to the effect of the **CheckForOverflowUnderflow** option.</span></span> <span data-ttu-id="b959a-116">Если в результате выполнения целочисленного арифметического оператора, находящегося за пределами области действия ключевых слов `checked` или `unchecked`, получено значение, выходящее за установленный для определенного типа данных диапазон значений, и для параметра **CheckForOverflowUnderflow** установлено значение `true`, во время выполнения возникнет исключение из-за этого оператора.</span><span class="sxs-lookup"><span data-stu-id="b959a-116">If an integer arithmetic statement that isn't in the scope of a `checked` or `unchecked` keyword results in a value outside the range of the data type, and **CheckForOverflowUnderflow** is `true`, that statement causes an exception at run time.</span></span> <span data-ttu-id="b959a-117">Если параметр **CheckForOverflowUnderflow** имеет значение `false`, использование такого оператора не приводит к возникновению исключения во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="b959a-117">If **CheckForOverflowUnderflow** is `false`, that statement doesn't cause an exception at run time.</span></span> <span data-ttu-id="b959a-118">Значение этого параметра по умолчанию — `false`; проверка переполнения отключена.</span><span class="sxs-lookup"><span data-stu-id="b959a-118">The default value for this option is `false`; overflow checking is disabled.</span></span>

## <a name="allowunsafeblocks"></a><span data-ttu-id="b959a-119">AllowUnsafeBlocks</span><span class="sxs-lookup"><span data-stu-id="b959a-119">AllowUnsafeBlocks</span></span>

<span data-ttu-id="b959a-120">Параметр **AllowUnsafeBlocks** разрешает компилировать код, в котором используется ключевое слово [unsafe](../keywords/unsafe.md).</span><span class="sxs-lookup"><span data-stu-id="b959a-120">The **AllowUnsafeBlocks** compiler option allows code that uses the [unsafe](../keywords/unsafe.md) keyword to compile.</span></span> <span data-ttu-id="b959a-121">Значение по умолчанию для этого параметра — `false`, то есть использование небезопасного кода запрещено.</span><span class="sxs-lookup"><span data-stu-id="b959a-121">The default value for this option is `false`, meaning unsafe code is not allowed.</span></span>

```xml
<AllowUnsafeBlocks>true</AllowUnsafeBlocks>
```

<span data-ttu-id="b959a-122">Дополнительные сведения см. в разделе [Небезопасный код и указатели](../../programming-guide/unsafe-code-pointers/index.md).</span><span class="sxs-lookup"><span data-stu-id="b959a-122">For more information about unsafe code, see [Unsafe Code and Pointers](../../programming-guide/unsafe-code-pointers/index.md).</span></span>

## <a name="defineconstants"></a><span data-ttu-id="b959a-123">DefineConstants</span><span class="sxs-lookup"><span data-stu-id="b959a-123">DefineConstants</span></span>

<span data-ttu-id="b959a-124">Параметр **DefineConstants** определяет символы в файлах исходного кода вашей программы.</span><span class="sxs-lookup"><span data-stu-id="b959a-124">The **DefineConstants** option defines symbols in all source code files of your program.</span></span>

```xml
<DefineConstants>name;name2</DefineConstants>
```

<span data-ttu-id="b959a-125">Этот параметр задает имена одного или нескольких символов, которые необходимо определить.</span><span class="sxs-lookup"><span data-stu-id="b959a-125">This option specifies the names of one or more symbols that you want to define.</span></span> <span data-ttu-id="b959a-126">Параметр **DefineConstants** действует так же, как директива препроцессора [#define](../preprocessor-directives/preprocessor-define.md), но применяется ко всем файлам проекта.</span><span class="sxs-lookup"><span data-stu-id="b959a-126">The **DefineConstants** option has the same effect as the [#define](../preprocessor-directives/preprocessor-define.md) preprocessor directive except that the compiler option is in effect for all files in the project.</span></span> <span data-ttu-id="b959a-127">Символ остается определенным в файле исходного кода до тех пор, пока определение не будет отменено с помощью директивы [#undef](../preprocessor-directives/preprocessor-undef.md) в файле исходного кода.</span><span class="sxs-lookup"><span data-stu-id="b959a-127">A symbol remains defined in a source file until an [#undef](../preprocessor-directives/preprocessor-undef.md) directive in the source file removes the definition.</span></span> <span data-ttu-id="b959a-128">При использовании параметра `-define` директива `#undef` в одном файле не действует для других файлов исходного кода в проекте.</span><span class="sxs-lookup"><span data-stu-id="b959a-128">When you use the `-define` option, an `#undef` directive in one file has no effect on other source code files in the project.</span></span> <span data-ttu-id="b959a-129">Вы можете использовать символы, созданные этим параметром, с директивами [#if](../preprocessor-directives/preprocessor-if.md), [#else](../preprocessor-directives/preprocessor-else.md), [#elif](../preprocessor-directives/preprocessor-elif.md) и [#endif](../preprocessor-directives/preprocessor-endif.md) для условной компиляции исходных файлов.</span><span class="sxs-lookup"><span data-stu-id="b959a-129">You can use symbols created by this option with [#if](../preprocessor-directives/preprocessor-if.md), [#else](../preprocessor-directives/preprocessor-else.md), [#elif](../preprocessor-directives/preprocessor-elif.md), and [#endif](../preprocessor-directives/preprocessor-endif.md) to compile source files conditionally.</span></span> <span data-ttu-id="b959a-130">Компилятор C# сам по себе не определяет символы и макросы, которые можно использовать в исходном коде. Все такие определения задаются пользователем.</span><span class="sxs-lookup"><span data-stu-id="b959a-130">The C# compiler itself defines no symbols or macros that you can use in your source code; all symbol definitions must be user-defined.</span></span>

> [!NOTE]
> <span data-ttu-id="b959a-131">Директива C# `#define` не поддерживает присваивание значения символу, как, например, в языке C++.</span><span class="sxs-lookup"><span data-stu-id="b959a-131">The C# `#define` directive does not allow a symbol to be given a value, as in languages such as C++.</span></span> <span data-ttu-id="b959a-132">Например, с помощью директивы `#define` нельзя создать макрос или определить константу.</span><span class="sxs-lookup"><span data-stu-id="b959a-132">For example, `#define` cannot be used to create a macro or to define a constant.</span></span> <span data-ttu-id="b959a-133">Чтобы определить константу, используйте переменную `enum`.</span><span class="sxs-lookup"><span data-stu-id="b959a-133">If you need to define a constant, use an `enum` variable.</span></span> <span data-ttu-id="b959a-134">Для создания макросов в стиле C++ необходимо использовать альтернативные способы, например универсальные шаблоны.</span><span class="sxs-lookup"><span data-stu-id="b959a-134">If you want to create a C++ style macro, consider alternatives such as generics.</span></span> <span data-ttu-id="b959a-135">Поскольку макросы по своей природе подвержены ошибкам, в C# они запрещены, однако вместо них предлагаются более безопасные альтернативы.</span><span class="sxs-lookup"><span data-stu-id="b959a-135">Since macros are notoriously error-prone, C# disallows their use but provides safer alternatives.</span></span>

## <a name="langversion"></a><span data-ttu-id="b959a-136">LangVersion</span><span class="sxs-lookup"><span data-stu-id="b959a-136">LangVersion</span></span>

<span data-ttu-id="b959a-137">Инструктирует компилятор принимать только синтаксис, включенный в заданную спецификацию языка C#.</span><span class="sxs-lookup"><span data-stu-id="b959a-137">Causes the compiler to accept only syntax that is included in the chosen C# language specification.</span></span>

```xml
<LangVersion>9.0</LangVersion>
```

<span data-ttu-id="b959a-138">Допустимы следующие значения.</span><span class="sxs-lookup"><span data-stu-id="b959a-138">The following values are valid:</span></span>

[!INCLUDE [lang-versions-table](../includes/langversion-table.md)]

<span data-ttu-id="b959a-139">Версия языка по умолчанию зависит от целевой платформы приложения, а также от установленной версии пакета SDK или Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="b959a-139">The default language version depends on the target framework for your application and the version of the SDK or Visual Studio installed.</span></span> <span data-ttu-id="b959a-140">Такие правила определены в статье [Управление версиями языка C#](../configure-language-version.md#defaults).</span><span class="sxs-lookup"><span data-stu-id="b959a-140">Those rules are defined in [C# language versioning](../configure-language-version.md#defaults).</span></span>

<span data-ttu-id="b959a-141">Параметр компилятора **LangVersion** не влияет на метаданные, на которые ссылается ваше приложение C#.</span><span class="sxs-lookup"><span data-stu-id="b959a-141">Metadata referenced by your C# application isn't subject to the **LangVersion** compiler option.</span></span>

<span data-ttu-id="b959a-142">Так как каждая версия компилятора C# содержит расширения для спецификации языка, параметр **LangVersion** не позволяет использовать возможности, аналогичные возможностям более ранней версии компилятора.</span><span class="sxs-lookup"><span data-stu-id="b959a-142">Because each version of the C# compiler contains extensions to the language specification, **LangVersion** doesn't give you the equivalent functionality of an earlier version of the compiler.</span></span>

<span data-ttu-id="b959a-143">Кроме того, в отличие от обновлений версии C#, которые обычно совпадают с основными выпусками .NET Framework, новые функции и возможности синтаксиса могут быть не привязаны к конкретной версии этой платформы.</span><span class="sxs-lookup"><span data-stu-id="b959a-143">Additionally, while C# version updates generally coincide with major .NET Framework releases, the new syntax and features aren't necessarily tied to that specific framework version.</span></span> <span data-ttu-id="b959a-144">Для работы с новыми версиями требуется обновление компилятора, которое также выпускается с новой редакцией C#. Тем не менее для каждой функции определен собственный набор минимальных требований к API .NET или общеязыковой среде выполнения, в результате чего их можно выполнять на более ранних версиях платформы, добавив необходимые пакеты NuGet или другие библиотеки.</span><span class="sxs-lookup"><span data-stu-id="b959a-144">While the new features definitely require a new compiler update that is also released alongside the C# revision, each specific feature has its own minimum .NET API or common language runtime requirements that may allow it to run on downlevel frameworks by including NuGet packages or other libraries.</span></span>

<span data-ttu-id="b959a-145">Независимо от того, какой параметр **LangVersion** вы задали, используйте для создания файлов с расширением .exe или .dll. текущую версию среды CLR.</span><span class="sxs-lookup"><span data-stu-id="b959a-145">Regardless of which **LangVersion** setting you use, use the current version of the common language runtime to create your .exe or .dll.</span></span> <span data-ttu-id="b959a-146">Единственным исключением являются дружественные сборки и [**ModuleAssemblyName**](advanced.md#moduleassemblyname), которые работают при установке параметра **-langversion:ISO-1**.</span><span class="sxs-lookup"><span data-stu-id="b959a-146">One exception is friend assemblies and [**ModuleAssemblyName**](advanced.md#moduleassemblyname), which work under **-langversion:ISO-1**.</span></span>

<span data-ttu-id="b959a-147">Другие способы указания версии языка C# см. в статье [Управление версиями языка C#](../configure-language-version.md).</span><span class="sxs-lookup"><span data-stu-id="b959a-147">For other ways to specify the C# language version, see [C# language versioning](../configure-language-version.md).</span></span>

<span data-ttu-id="b959a-148">Дополнительные сведения об установке этого параметра компилятора программным путем см. в разделе <xref:VSLangProj80.CSharpProjectConfigurationProperties3.LanguageVersion%2A>.</span><span class="sxs-lookup"><span data-stu-id="b959a-148">For information about how to set this compiler option programmatically, see <xref:VSLangProj80.CSharpProjectConfigurationProperties3.LanguageVersion%2A>.</span></span>

### <a name="c-language-specification"></a><span data-ttu-id="b959a-149">Спецификация языка C#</span><span class="sxs-lookup"><span data-stu-id="b959a-149">C# language specification</span></span>

| <span data-ttu-id="b959a-150">Version</span><span class="sxs-lookup"><span data-stu-id="b959a-150">Version</span></span>          | <span data-ttu-id="b959a-151">Ссылка</span><span class="sxs-lookup"><span data-stu-id="b959a-151">Link</span></span>                       | <span data-ttu-id="b959a-152">Описание</span><span class="sxs-lookup"><span data-stu-id="b959a-152">Description</span></span>                                                             |
|------------------|----------------------------|-------------------------------------------------------------------------|
| <span data-ttu-id="b959a-153">C# 7.0 и более поздние версии</span><span class="sxs-lookup"><span data-stu-id="b959a-153">C# 7.0 and later</span></span> |                            | <span data-ttu-id="b959a-154">В настоящее время недоступно.</span><span class="sxs-lookup"><span data-stu-id="b959a-154">Not currently available</span></span>                                                 |
| <span data-ttu-id="b959a-155">C# 6.0</span><span class="sxs-lookup"><span data-stu-id="b959a-155">C# 6.0</span></span>           | <span data-ttu-id="b959a-156">[Ссылка][csharp-6]</span><span class="sxs-lookup"><span data-stu-id="b959a-156">[Link][csharp-6]</span></span>           | <span data-ttu-id="b959a-157">Спецификация языка C# версии 6 (неофициальный проект): .NET Foundation</span><span class="sxs-lookup"><span data-stu-id="b959a-157">C# Language Specification Version 6 - Unofficial Draft: .NET Foundation</span></span> |
| <span data-ttu-id="b959a-158">C# 5.0</span><span class="sxs-lookup"><span data-stu-id="b959a-158">C# 5.0</span></span>           | <span data-ttu-id="b959a-159">[Загрузить PDF-файл][csharp-5]</span><span class="sxs-lookup"><span data-stu-id="b959a-159">[Download PDF][csharp-5]</span></span>   | <span data-ttu-id="b959a-160">Стандарт ECMA-334, 5-й выпуск</span><span class="sxs-lookup"><span data-stu-id="b959a-160">Standard ECMA-334 5th Edition</span></span>                                           |
| <span data-ttu-id="b959a-161">C# 3.0</span><span class="sxs-lookup"><span data-stu-id="b959a-161">C# 3.0</span></span>           | <span data-ttu-id="b959a-162">[Загрузить DOC-файл][csharp-3]</span><span class="sxs-lookup"><span data-stu-id="b959a-162">[Download DOC][csharp-3]</span></span>   | <span data-ttu-id="b959a-163">Спецификация языка C#, версия 3.0: Microsoft Corporation</span><span class="sxs-lookup"><span data-stu-id="b959a-163">C# Language Specification Version 3.0: Microsoft Corporation</span></span>            |
| <span data-ttu-id="b959a-164">C# 2.0</span><span class="sxs-lookup"><span data-stu-id="b959a-164">C# 2.0</span></span>           | <span data-ttu-id="b959a-165">[Загрузить PDF-файл][csharp-2]</span><span class="sxs-lookup"><span data-stu-id="b959a-165">[Download PDF][csharp-2]</span></span>   | <span data-ttu-id="b959a-166">Стандарт ECMA-334, 4-й выпуск</span><span class="sxs-lookup"><span data-stu-id="b959a-166">Standard ECMA-334 4th Edition</span></span>                                           |
| <span data-ttu-id="b959a-167">C# 1.2</span><span class="sxs-lookup"><span data-stu-id="b959a-167">C# 1.2</span></span>           | <span data-ttu-id="b959a-168">[Загрузить DOC-файл][csharp-1.2]</span><span class="sxs-lookup"><span data-stu-id="b959a-168">[Download DOC][csharp-1.2]</span></span> | <span data-ttu-id="b959a-169">Спецификация языка C#, версия 1.2: Microsoft Corporation</span><span class="sxs-lookup"><span data-stu-id="b959a-169">C# Language Specification Version 1.2: Microsoft Corporation</span></span>            |
| <span data-ttu-id="b959a-170">C# 1.0</span><span class="sxs-lookup"><span data-stu-id="b959a-170">C# 1.0</span></span>           | <span data-ttu-id="b959a-171">[Загрузить DOC-файл][csharp-1]</span><span class="sxs-lookup"><span data-stu-id="b959a-171">[Download DOC][csharp-1]</span></span>   | <span data-ttu-id="b959a-172">Спецификация языка C#, версия 1.0: Microsoft Corporation</span><span class="sxs-lookup"><span data-stu-id="b959a-172">C# Language Specification Version 1.0: Microsoft Corporation</span></span>            |

[csharp-6]: /dotnet/csharp/language-reference/language-specification/introduction
[csharp-5]: https://www.ecma-international.org/publications/files/ECMA-ST/ECMA-334.pdf
[csharp-3]: https://download.microsoft.com/download/3/8/8/388e7205-bc10-4226-b2a8-75351c669b09/CSharp%20Language%20Specification.doc
[csharp-2]: https://www.ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-334%204th%20edition%20June%202006.pdf
[csharp-1.2]: https://www.ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-334%202nd%20edition%20December%202002.pdf
[csharp-1]: https://www.ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-334%201st%20edition%20December%202001.pdf

### <a name="minimum-sdk-version-needed-to-support-all-language-features"></a><span data-ttu-id="b959a-173">Минимальная версия пакета SDK, необходимая для поддержки всех возможностей языка</span><span class="sxs-lookup"><span data-stu-id="b959a-173">Minimum SDK version needed to support all language features</span></span>

<span data-ttu-id="b959a-174">В следующей таблице перечислены минимальные версии пакета SDK с компилятором C#, поддерживающим соответствующую версию языка:</span><span class="sxs-lookup"><span data-stu-id="b959a-174">The following table lists the minimum versions of the SDK with the C# compiler that supports the corresponding language version:</span></span>

| <span data-ttu-id="b959a-175">Версия C#</span><span class="sxs-lookup"><span data-stu-id="b959a-175">C# version</span></span> | <span data-ttu-id="b959a-176">Минимальная версия пакета SDK</span><span class="sxs-lookup"><span data-stu-id="b959a-176">Minimum SDK version</span></span>                                                                  |
|------------|--------------------------------------------------------------------------------------|
| <span data-ttu-id="b959a-177">C# 8.0</span><span class="sxs-lookup"><span data-stu-id="b959a-177">C# 8.0</span></span>     | <span data-ttu-id="b959a-178">Microsoft Visual Studio/Build Tools 2019, версия 16.3 или пакет SDK .NET Core 3.0</span><span class="sxs-lookup"><span data-stu-id="b959a-178">Microsoft Visual Studio/Build Tools 2019, version 16.3, or .NET Core 3.0 SDK</span></span>         |
| <span data-ttu-id="b959a-179">C# 7.3</span><span class="sxs-lookup"><span data-stu-id="b959a-179">C# 7.3</span></span>     | <span data-ttu-id="b959a-180">Microsoft Visual Studio/Build Tools 2017, версия 15.7</span><span class="sxs-lookup"><span data-stu-id="b959a-180">Microsoft Visual Studio/Build Tools 2017, version 15.7</span></span>                               |
| <span data-ttu-id="b959a-181">C# 7.2</span><span class="sxs-lookup"><span data-stu-id="b959a-181">C# 7.2</span></span>     | <span data-ttu-id="b959a-182">Microsoft Visual Studio/Build Tools 2017, версия 15.5</span><span class="sxs-lookup"><span data-stu-id="b959a-182">Microsoft Visual Studio/Build Tools 2017, version 15.5</span></span>                               |
| <span data-ttu-id="b959a-183">C# 7.1</span><span class="sxs-lookup"><span data-stu-id="b959a-183">C# 7.1</span></span>     | <span data-ttu-id="b959a-184">Microsoft Visual Studio/Build Tools 2017, версия 15.3</span><span class="sxs-lookup"><span data-stu-id="b959a-184">Microsoft Visual Studio/Build Tools 2017, version 15.3</span></span>                               |
| <span data-ttu-id="b959a-185">C# 7.0</span><span class="sxs-lookup"><span data-stu-id="b959a-185">C# 7.0</span></span>     | <span data-ttu-id="b959a-186">Microsoft Visual Studio/Build Tools 2017</span><span class="sxs-lookup"><span data-stu-id="b959a-186">Microsoft Visual Studio/Build Tools 2017</span></span>                                             |
| <span data-ttu-id="b959a-187">C# 6</span><span class="sxs-lookup"><span data-stu-id="b959a-187">C# 6</span></span>       | <span data-ttu-id="b959a-188">Microsoft Visual Studio/Build Tools 2015</span><span class="sxs-lookup"><span data-stu-id="b959a-188">Microsoft Visual Studio/Build Tools 2015</span></span>                                             |
| <span data-ttu-id="b959a-189">C# 5</span><span class="sxs-lookup"><span data-stu-id="b959a-189">C# 5</span></span>       | <span data-ttu-id="b959a-190">Microsoft Visual Studio/Build Tools 2012 или встроенный компилятор .NET Framework 4.5</span><span class="sxs-lookup"><span data-stu-id="b959a-190">Microsoft Visual Studio/Build Tools 2012 or bundled .NET Framework 4.5 compiler</span></span>      |
| <span data-ttu-id="b959a-191">C# 4</span><span class="sxs-lookup"><span data-stu-id="b959a-191">C# 4</span></span>       | <span data-ttu-id="b959a-192">Microsoft Visual Studio/Build Tools 2010 или встроенный компилятор .NET Framework 4.0</span><span class="sxs-lookup"><span data-stu-id="b959a-192">Microsoft Visual Studio/Build Tools 2010 or bundled .NET Framework 4.0 compiler</span></span>      |
| <span data-ttu-id="b959a-193">C# 3</span><span class="sxs-lookup"><span data-stu-id="b959a-193">C# 3</span></span>       | <span data-ttu-id="b959a-194">Microsoft Visual Studio/Build Tools 2008 или встроенный компилятор .NET Framework 3.5</span><span class="sxs-lookup"><span data-stu-id="b959a-194">Microsoft Visual Studio/Build Tools 2008 or bundled .NET Framework 3.5 compiler</span></span>      |
| <span data-ttu-id="b959a-195">C# 2</span><span class="sxs-lookup"><span data-stu-id="b959a-195">C# 2</span></span>       | <span data-ttu-id="b959a-196">Microsoft Visual Studio/Build Tools 2005 или встроенный компилятор .NET Framework 2.0</span><span class="sxs-lookup"><span data-stu-id="b959a-196">Microsoft Visual Studio/Build Tools 2005 or bundled .NET Framework 2.0 compiler</span></span>      |
| <span data-ttu-id="b959a-197">C# 1.0/1.2</span><span class="sxs-lookup"><span data-stu-id="b959a-197">C# 1.0/1.2</span></span> | <span data-ttu-id="b959a-198">Microsoft Visual Studio/Build Tools .NET 2002 или встроенный компилятор .NET Framework 1.0</span><span class="sxs-lookup"><span data-stu-id="b959a-198">Microsoft Visual Studio/Build Tools .NET 2002 or bundled .NET Framework 1.0 compiler</span></span> |

## <a name="nullable"></a><span data-ttu-id="b959a-199">Допускает значения NULL</span><span class="sxs-lookup"><span data-stu-id="b959a-199">Nullable</span></span>

<span data-ttu-id="b959a-200">Параметр **Nullable** позволяет указать контекст, допускающий значение NULL.</span><span class="sxs-lookup"><span data-stu-id="b959a-200">The **Nullable** option lets you specify the nullable context.</span></span>

```xml
<Nullable>enable</Nullable>
```

<span data-ttu-id="b959a-201">Аргумент должен иметь одно из следующих значений: `enable`, `disable`, `warnings` или `annotations`.</span><span class="sxs-lookup"><span data-stu-id="b959a-201">The argument must be one of `enable`, `disable`, `warnings`, or `annotations`.</span></span> <span data-ttu-id="b959a-202">Аргумент `enable` разрешает контекст, допускающий значение NULL.</span><span class="sxs-lookup"><span data-stu-id="b959a-202">The `enable` argument enables the nullable context.</span></span> <span data-ttu-id="b959a-203">При указании `disable` контекст, допускающий значение NULL, будет отключен.</span><span class="sxs-lookup"><span data-stu-id="b959a-203">Specifying `disable` will disable the nullable context.</span></span> <span data-ttu-id="b959a-204">Аргумент `warnings` включает контекст предупреждения, допускающий значение NULL.</span><span class="sxs-lookup"><span data-stu-id="b959a-204">When providing the `warnings` argument the nullable warning context is enabled.</span></span> <span data-ttu-id="b959a-205">При указании аргумента `annotations` будет включен контекст заметок, допускающий значение NULL.</span><span class="sxs-lookup"><span data-stu-id="b959a-205">When specifying the `annotations` argument, the nullable annotation context is enabled.</span></span>

<span data-ttu-id="b959a-206">Анализ потока используется для определения допустимости значений NULL в переменных в исполняемом коде.</span><span class="sxs-lookup"><span data-stu-id="b959a-206">Flow analysis is used to infer the nullability of variables within executable code.</span></span> <span data-ttu-id="b959a-207">Выводимая допустимость переменной значения NULL не зависит от объявленной в переменной допустимости значения NULL.</span><span class="sxs-lookup"><span data-stu-id="b959a-207">The inferred nullability of a variable is independent of the variable's declared nullability.</span></span> <span data-ttu-id="b959a-208">Вызовы методов анализируются, даже если они условно опущены.</span><span class="sxs-lookup"><span data-stu-id="b959a-208">Method calls are analyzed even when they're conditionally omitted.</span></span> <span data-ttu-id="b959a-209">Например, <xref:System.Diagnostics.Debug.Assert%2A?displayProperty=nameWithType> в режиме выпуска.</span><span class="sxs-lookup"><span data-stu-id="b959a-209">For instance, <xref:System.Diagnostics.Debug.Assert%2A?displayProperty=nameWithType> in release mode.</span></span>

<span data-ttu-id="b959a-210">Вызов методов, снабженных следующими атрибутами, также повлияет на анализ потока:</span><span class="sxs-lookup"><span data-stu-id="b959a-210">Invocation of methods annotated with the following attributes will also affect flow analysis:</span></span>

- <span data-ttu-id="b959a-211">Простые предварительные условия: <xref:System.Diagnostics.CodeAnalysis.AllowNullAttribute> и <xref:System.Diagnostics.CodeAnalysis.DisallowNullAttribute></span><span class="sxs-lookup"><span data-stu-id="b959a-211">Simple pre-conditions: <xref:System.Diagnostics.CodeAnalysis.AllowNullAttribute> and <xref:System.Diagnostics.CodeAnalysis.DisallowNullAttribute></span></span>
- <span data-ttu-id="b959a-212">Простые постусловия: <xref:System.Diagnostics.CodeAnalysis.MaybeNullAttribute> и <xref:System.Diagnostics.CodeAnalysis.NotNullAttribute></span><span class="sxs-lookup"><span data-stu-id="b959a-212">Simple post-conditions: <xref:System.Diagnostics.CodeAnalysis.MaybeNullAttribute> and <xref:System.Diagnostics.CodeAnalysis.NotNullAttribute></span></span>
- <span data-ttu-id="b959a-213">Условные постусловия: <xref:System.Diagnostics.CodeAnalysis.MaybeNullWhenAttribute> и <xref:System.Diagnostics.CodeAnalysis.NotNullWhenAttribute></span><span class="sxs-lookup"><span data-stu-id="b959a-213">Conditional post-conditions: <xref:System.Diagnostics.CodeAnalysis.MaybeNullWhenAttribute> and <xref:System.Diagnostics.CodeAnalysis.NotNullWhenAttribute></span></span>
- <span data-ttu-id="b959a-214"><xref:System.Diagnostics.CodeAnalysis.DoesNotReturnIfAttribute> (например, `DoesNotReturnIf(false)` для <xref:System.Diagnostics.Debug.Assert%2A?displayProperty=nameWithType>) и <xref:System.Diagnostics.CodeAnalysis.DoesNotReturnAttribute></span><span class="sxs-lookup"><span data-stu-id="b959a-214"><xref:System.Diagnostics.CodeAnalysis.DoesNotReturnIfAttribute> (for example, `DoesNotReturnIf(false)` for <xref:System.Diagnostics.Debug.Assert%2A?displayProperty=nameWithType>) and <xref:System.Diagnostics.CodeAnalysis.DoesNotReturnAttribute></span></span>
- <xref:System.Diagnostics.CodeAnalysis.NotNullIfNotNullAttribute>
- <span data-ttu-id="b959a-215">Постусловия элемента: <xref:System.Diagnostics.CodeAnalysis.MemberNotNullAttribute.%23ctor(System.String)> и <xref:System.Diagnostics.CodeAnalysis.MemberNotNullAttribute.%23ctor(System.String[])></span><span class="sxs-lookup"><span data-stu-id="b959a-215">Member post-conditions: <xref:System.Diagnostics.CodeAnalysis.MemberNotNullAttribute.%23ctor(System.String)> and <xref:System.Diagnostics.CodeAnalysis.MemberNotNullAttribute.%23ctor(System.String[])></span></span>

> [!IMPORTANT]
> <span data-ttu-id="b959a-216">Глобальный контекст, допускающий значения NULL, не применяется для созданных файлов кода.</span><span class="sxs-lookup"><span data-stu-id="b959a-216">The global nullable context does not apply for generated code files.</span></span> <span data-ttu-id="b959a-217">Независимо от этого параметра, контекст, допускающий значение NULL, *отключен* для любого исходного файла, помеченного как созданный.</span><span class="sxs-lookup"><span data-stu-id="b959a-217">Regardless of this setting, the nullable context is *disabled* for any source file marked as generated.</span></span> <span data-ttu-id="b959a-218">Существует четыре способа пометки файла как созданного:</span><span class="sxs-lookup"><span data-stu-id="b959a-218">There are four ways a file is marked as generated:</span></span>
>
> 1. <span data-ttu-id="b959a-219">В файле. editorconfig укажите `generated_code = true` в разделе, который применяется к этому файлу.</span><span class="sxs-lookup"><span data-stu-id="b959a-219">In the .editorconfig, specify `generated_code = true` in a section that applies to that file.</span></span>
> 1. <span data-ttu-id="b959a-220">Вставьте `<auto-generated>` или `<auto-generated/>` в комментарий в верхней части файла.</span><span class="sxs-lookup"><span data-stu-id="b959a-220">Put `<auto-generated>` or `<auto-generated/>` in a comment at the top of the file.</span></span> <span data-ttu-id="b959a-221">Он может находиться в любой строке комментария, однако блок комментариев должен быть первым элементом в файле.</span><span class="sxs-lookup"><span data-stu-id="b959a-221">It can be on any line in that comment, but the comment block must be the first element in the file.</span></span>
> 1. <span data-ttu-id="b959a-222">Имя файла следует начинать с *TemporaryGeneratedFile_*</span><span class="sxs-lookup"><span data-stu-id="b959a-222">Start the file name with *TemporaryGeneratedFile_*</span></span>
> 1. <span data-ttu-id="b959a-223">В конце имени файла следует указать *.designer.cs*, *.generated.cs*, *.g.cs* или *.g.i.cs*.</span><span class="sxs-lookup"><span data-stu-id="b959a-223">End the file name with *.designer.cs*, *.generated.cs*, *.g.cs*, or *.g.i.cs*.</span></span>
>
> <span data-ttu-id="b959a-224">Генераторы могут явно использовать директиву препроцессора [`#nullable`](../preprocessor-directives/preprocessor-nullable.md).</span><span class="sxs-lookup"><span data-stu-id="b959a-224">Generators can opt-in using the [`#nullable`](../preprocessor-directives/preprocessor-nullable.md) preprocessor directive.</span></span>
