---
title: Свойства. Руководство по программированию в C#
description: Свойство в C# — это член, который использует методы доступа для чтения, записи или вычисления значения частного поля так, как если бы это был общий элемент данных.
ms.date: 03/10/2017
f1_keywords:
- cs.properties
helpviewer_keywords:
- properties [C#]
- C# language, properties
ms.assetid: e295a8a2-b357-4ee7-a12e-385a44146fa8
ms.openlocfilehash: 6079fc5d2611ed1111d39d3f39e4c91817db528f
ms.sourcegitcommit: e3cf8227573e13b8e1f4e3dc007404881cdafe47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/11/2021
ms.locfileid: "103189882"
---
# <a name="properties-c-programming-guide"></a>Свойства (Руководство по программированию в C#)

Свойство — это член, предоставляющий гибкий механизм для чтения, записи или вычисления значения частного поля. Свойства можно использовать, как если бы они были членами общих данных, но фактически они представляют собой специальные методы, называемые *методами доступа*. Это позволяет легко получать доступ к данным и помогает повысить безопасность и гибкость методов.  

## <a name="properties-overview"></a>Общие сведения о свойствах  
  
- Свойства позволяют классу предоставлять общий способ получения и задания значений, скрывая при этом код реализации или проверки.  
  
- Метод доступа [get](../../language-reference/keywords/get.md) используется для возврата значения свойства, а метод доступа [set](../../language-reference/keywords/set.md) — для присвоения нового значения. В C# 9 и более поздних версий метод доступа к свойству [init](../../language-reference/keywords/init.md) используется для назначения нового значения только при создании объекта. Эти методы доступа могут иметь различные уровни доступа. Дополнительные сведения см. в разделе [Доступность методов доступа](./restricting-accessor-accessibility.md).  
  
- Ключевое слово [value](../../language-reference/keywords/value.md) используется для определения значения, присваиваемого методом доступа `set` или `init`.  
- Свойства могут быть доступны для *чтения и записи* (они имеют оба метода доступа — `get` и `set`), *только для чтения* (они имеют метод доступа `get`, но не имеют метода доступа `set`) или *только для записи* (они имеют метод доступа `set`, но не имеют метода доступа `get`). Свойства только для записи встречаются редко и чаще всего используются для ограничения доступа к конфиденциальным данным.

- Простые свойства, не требующие пользовательского кода метода доступа, можно реализовать как определения текста выражений или как [автоматически реализуемые свойства](./auto-implemented-properties.md).

## <a name="properties-with-backing-fields"></a>Свойства с резервными полями

Одной из базовых схем реализации свойств является использование закрытого резервного поля для установки и извлечения значения свойства. Метод доступа `get` возвращает значение закрытого поля, а метод доступа `set` может выполнять определенные проверки данных до присвоения значению закрытого поля. Оба метода доступа также могут выполнять некоторые преобразования или вычисления данных до их сохранения или возвращения.

Это показано в следующем примере. В этом примере класс `TimePeriod` представляет интервал времени. На внутреннем уровне класс сохраняет интервал времени в секундах в закрытом поле с именем `_seconds`. Свойство чтения и записи с именем `Hours` позволяет клиенту указывать временной интервал в часах. Методы доступа `get` и `set` выполняют необходимое преобразование между часами и секундами. Кроме того, метод доступа `set` проверяет данные и создает <xref:System.ArgumentOutOfRangeException>, если указано недопустимое количество часов.

 [!code-csharp[Properties#1](../../../../samples/snippets/csharp/programming-guide/classes-and-structs/properties-1.cs)]  
  
## <a name="expression-body-definitions"></a>Определения текста выражений  

 Как правило, методы доступа к свойствам состоят из однострочных операторов, которые просто назначают или возвращают результат выражения. Эти свойства можно реализовать как члены, воплощающие выражение. Определения текста выражений состоят из символа `=>`, за которым идет выражение, назначаемое свойству или извлекаемое из него.

 Начиная с версии C# 6 свойства только для чтения могут реализовывать метод доступа `get` как член, воплощающий выражение. В этом случае не используется ни ключевое слово метода доступа `get`, ни ключевое слово `return`. В следующем примере показана реализация свойства только для чтения `Name` в виде члена, воплощающего выражение.

 [!code-csharp[Properties#2](../../../../samples/snippets/csharp/programming-guide/classes-and-structs/properties-2.cs)]  

 Начиная с C# 7.0 методы доступа `get` и `set` можно реализовывать в виде членов, воплощающих выражения. В этом случае необходимо указывать ключевые слова `get` и `set`. В следующем примере показано использование определений текста выражений для обоих методов доступа. Обратите внимание, что ключевое слово `return` не используется с методом доступа `get`.

  [!code-csharp[Properties#3](../../../../samples/snippets/csharp/programming-guide/classes-and-structs/properties-3.cs)]  

## <a name="auto-implemented-properties"></a>Автоматически реализуемые свойства

В некоторых случаях свойство `get` и методы доступа `set` просто присваивают значение резервному полю или извлекают значение из него без включения дополнительной логики. С помощью автоматически реализуемых свойств можно упростить код, в то время как компилятор C# будет прозрачно предоставлять вам резервное поле.

Если у свойства есть методы доступа `get` и `set` (или `get` и `init`), они оба должны быть автоматически реализованы. Автоматически реализуемое свойство определяется с помощью ключевых слов `get` и `set` без указания какой-либо реализации. Следующий пример аналогичен предыдущему, за исключением того, что `Name` и `Price` являются автоматически реализуемыми свойствами. В этом примере также удаляется параметризованный конструктор, что позволяет инициализировать объекты `SaleItem`, вызывая конструктор без параметров и [инициализатор объекта](object-and-collection-initializers.md).

  [!code-csharp[Properties#4](../../../../samples/snippets/csharp/programming-guide/classes-and-structs/properties-4.cs)]  

## <a name="related-sections"></a>Связанные разделы  
  
- [Использование свойств](./using-properties.md)  
  
- [Свойства интерфейса](./interface-properties.md)  
  
- [Сравнение свойств и индексаторов](../indexers/comparison-between-properties-and-indexers.md)  
  
- [Ограничение доступности методов доступа](./restricting-accessor-accessibility.md)  
  
- [Автоматически реализуемые свойства](./auto-implemented-properties.md)  
  
## <a name="c-language-specification"></a>Спецификация языка C#  

Дополнительные сведения см. в разделе [Свойства](~/_csharplang/spec/classes.md#properties) в [Спецификации языка C#](/dotnet/csharp/language-reference/language-specification/introduction). Спецификация языка является предписывающим источником информации о синтаксисе и использовании языка C#.
  
## <a name="see-also"></a>См. также

- [Руководство по программированию на C#](../index.md)
- [Использование свойств](./using-properties.md)
- [Индексаторы](../indexers/index.md)
- [Ключевое слово get](../../language-reference/keywords/get.md)
- [Ключевое слово set](../../language-reference/keywords/set.md)
